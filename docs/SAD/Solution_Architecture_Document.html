<!DOCTYPE html><html><head>
      <title>Solution_Architecture_Document</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////Users/pete/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.8.20/crossnote/dependencies/katex/katex.min.css">
      
      
      <script type="text/javascript" src="file:////Users/pete/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.8.20/crossnote/dependencies/mermaid/mermaid.min.js" charset="UTF-8"></script>
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      <div>
<hr>
<h1 id="solution-architecture-document"><strong>Solution Architecture Document</strong> </h1>
<h2 id="ai-powered-form-code-generation-system"><strong>AI-Powered Form Code Generation System</strong> </h2>
<p><strong>Version:</strong> 1.0<br>
<strong>Date:</strong> December 2024<br>
<strong>Status:</strong> Draft</p>
<hr>
<h2 id="table-of-contents"><strong>Table of Contents</strong> </h2>
<ol>
<li><a href="#1-executive-summary" title="1. Executive Summary">Executive Summary</a></li>
<li><a href="#2-business-context" title="2. Business Context">Business Context</a></li>
<li><a href="#3-architectural-overview" title="3. Architectural Overview">Architectural Overview</a></li>
<li><a href="#4-bounded-context-architecture" title="4. Bounded Context Architecture">Bounded Context Architecture</a></li>
<li><a href="#5-technical-stack" title="5. Technical Stack">Technical Stack</a></li>
<li><a href="#6-data-architecture" title="6. Data Architecture">Data Architecture</a></li>
<li><a href="#7-integration-architecture">Integration Architecture</a></li>
<li><a href="#8-security-architecture">Security Architecture</a></li>
<li><a href="#9-deployment-architecture">Deployment Architecture</a></li>
<li><a href="#10-non-functional-requirements">Non-Functional Requirements</a></li>
<li><a href="#11-future-enhancements">Future Enhancements</a></li>
</ol>
<hr>
<h2 id="1-executive-summary"><strong>1. Executive Summary</strong> </h2>
<h3 id="11-purpose"><strong>1.1 Purpose</strong> </h3>
<p>This document describes the architecture of an AI-powered system that automates the generation of production-ready code from PDF forms. The system leverages Claude AI to analyze form structures and generate complete application layers including C#, SQL, and React components.</p>
<h3 id="12-scope"><strong>1.2 Scope</strong> </h3>
<p>The system covers:</p>
<ul>
<li>PDF form upload and processing</li>
<li>AI-powered code generation across multiple technologies</li>
<li>Complete CRUD application scaffolding</li>
<li>Testing infrastructure generation</li>
<li>CI/CD pipeline generation</li>
<li>Version control and comparison of generated code</li>
</ul>
<h3 id="13-key-architectural-decisions"><strong>1.3 Key Architectural Decisions</strong> </h3>
<table>
<thead>
<tr>
<th>Decision</th>
<th>Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td>Domain-Driven Design (DDD)</td>
<td>Clear separation of business domains, enabling independent evolution</td>
</tr>
<tr>
<td>Clean Architecture</td>
<td>Dependency inversion, testability, and technology independence</td>
</tr>
<tr>
<td>Bounded Contexts</td>
<td>Loose coupling between Form, Import, and Code Generation domains</td>
</tr>
<tr>
<td>Event-Driven Communication</td>
<td>Asynchronous, scalable integration between contexts</td>
</tr>
<tr>
<td>Anthropic Claude API</td>
<td>State-of-the-art document understanding and code generation</td>
</tr>
<tr>
<td>Async/Background Processing</td>
<td>Handle variable generation times (seconds to minutes)</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="2-business-context"><strong>2. Business Context</strong> </h2>
<h3 id="21-business-problem"><strong>2.1 Business Problem</strong> </h3>
<p>Organizations spend significant time creating boilerplate CRUD applications from forms. This includes:</p>
<ul>
<li>Writing entity models</li>
<li>Creating database schemas</li>
<li>Building repositories and controllers</li>
<li>Developing UI components</li>
<li>Writing tests</li>
<li>Setting up CI/CD pipelines</li>
</ul>
<p><strong>Estimated time per form:</strong> 8-40 hours of developer time</p>
<h3 id="22-business-solution"><strong>2.2 Business Solution</strong> </h3>
<p>Automate the entire process:</p>
<ol>
<li>Upload PDF form</li>
<li>AI analyzes form structure</li>
<li>Generate complete application stack</li>
<li>Download production-ready code</li>
</ol>
<p><strong>Estimated time with system:</strong> 5-10 minutes</p>
<h3 id="23-business-benefits"><strong>2.3 Business Benefits</strong> </h3>
<ul>
<li><strong>95% time reduction</strong> in boilerplate code creation</li>
<li><strong>Consistent code quality</strong> through templates</li>
<li><strong>Reduced human error</strong> in scaffolding</li>
<li><strong>Faster time-to-market</strong> for new features</li>
<li><strong>Developer focus</strong> on business logic, not scaffolding</li>
</ul>
<hr>
<h2 id="3-architectural-overview"><strong>3. Architectural Overview</strong> </h2>
<h3 id="31-system-context-diagram"><strong>3.1 System Context Diagram</strong> </h3>
<div class="mermaid">graph TB
subgraph External["External Systems"]
    Claude["Claude API&lt;br/&gt;(Anthropic)"]
    GitHub["Source Control&lt;br/&gt;(GitHub)"]
    Storage["Storage&lt;br/&gt;(Azure Blob)"]
end

subgraph System["Form Code Generation System"]
    FormCtx["Form&lt;br/&gt;Context"]
    ImportCtx["Import&lt;br/&gt;Context"]
    CodeGenCtx["Code Gen&lt;br/&gt;Context"]
end

subgraph Interface["User Interface"]
    WebUI["Web UI&lt;br/&gt;(React)"]
    API["REST API&lt;br/&gt;(ASP.NET)"]
end

subgraph Users["Users"]
    Designer["Designers"]
    Developer["Developers"]
    Admin["Admins"]
end

Users --&gt; WebUI
Users --&gt; API
WebUI --&gt; System
API --&gt; System

System --&gt; Claude
System --&gt; GitHub
System --&gt; Storage

FormCtx -.-&gt; ImportCtx
ImportCtx -.-&gt; CodeGenCtx
FormCtx -.-&gt; CodeGenCtx
</div><h3 id="32-high-level-architecture"><strong>3.2 High-Level Architecture</strong> </h3>
<div class="mermaid">graph TB
    subgraph Presentation["Presentation Layer"]
        ReactUI["React Web UI&lt;br/&gt;- Form Upload&lt;br/&gt;- Job Status&lt;br/&gt;- Download"]
        RestAPI["REST API&lt;br/&gt;- Controllers&lt;br/&gt;- Endpoints&lt;br/&gt;- Swagger"]
    end
    
    subgraph Application["Application Layer"]
        CQRS["MediatR (CQRS Pattern)"]
        Commands["Commands"]
        Queries["Queries"]
        Events["Event Handlers"]
    end
    
    subgraph Domain["Domain Layer"]
        FormContext["Form Context&lt;br/&gt;- Aggregates&lt;br/&gt;- Entities&lt;br/&gt;- Value Objects&lt;br/&gt;- Events"]
        ImportContext["Import Context&lt;br/&gt;- Aggregates&lt;br/&gt;- Entities&lt;br/&gt;- Services&lt;br/&gt;- Events"]
        CodeGenContext["Code Generation Context&lt;br/&gt;- Aggregates&lt;br/&gt;- Templates&lt;br/&gt;- Services&lt;br/&gt;- Events"]
    end
    
    subgraph Infrastructure["Infrastructure Layer"]
        EFCore["EF Core&lt;br/&gt;(PostgreSQL)"]
        Repos["Repositories"]
        ExtAPIs["External APIs&lt;br/&gt;- Claude API&lt;br/&gt;- Blob Storage"]
        EventBus["Event Bus&lt;br/&gt;(RabbitMQ)"]
        Workers["Background Workers"]
        FileSystem["File System Operations"]
    end
    
    ReactUI --&gt; RestAPI
    RestAPI --&gt; CQRS
    CQRS --&gt; Commands
    CQRS --&gt; Queries
    CQRS --&gt; Events
    
    Commands --&gt; Domain
    Queries --&gt; Domain
    Events --&gt; Domain
    
    Domain --&gt; Repos
    Domain --&gt; ExtAPIs
    Domain --&gt; EventBus
    Domain --&gt; Workers
    Domain --&gt; FileSystem
    
    Repos --&gt; EFCore
</div><hr>
<h2 id="4-bounded-context-architecture"><strong>4. Bounded Context Architecture</strong> </h2>
<h3 id="41-context-map"><strong>4.1 Context Map</strong> </h3>
<div class="mermaid">graph TB
    subgraph FormContext["Form Context (Upstream)"]
        FormResp["Responsibilities:&lt;br/&gt;- Manage form definitions&lt;br/&gt;- Track form revisions&lt;br/&gt;- Store form metadata"]
        FormEvents["Exposed Events:&lt;br/&gt;- FormCreated&lt;br/&gt;- FormRevisionCreated"]
    end
    
    subgraph ImportContext["Import Context (Downstream)"]
        ImportResp["Subscribes to: None&lt;br/&gt;&lt;br/&gt;Publishes:&lt;br/&gt;- FormCandidateApproved"]
    end
    
    subgraph CodeGenContext["Code Gen Context (Downstream)"]
        CodeGenResp["Subscribes to:&lt;br/&gt;- FormCreated&lt;br/&gt;- FormRevisionCreated&lt;br/&gt;&lt;br/&gt;Publishes:&lt;br/&gt;- CodeArtifactsGenerated"]
    end
    
    FormContext --&gt;|Integration Events&lt;br/&gt;Event Bus| ImportContext
    FormContext --&gt;|Integration Events&lt;br/&gt;Event Bus| CodeGenContext
    ImportContext --&gt;|FormCandidateApproved| FormContext
</div><h3 id="42-form-context---detailed-architecture"><strong>4.2 Form Context - Detailed Architecture</strong> </h3>
<div class="mermaid">classDiagram
    class Form {
        &lt;&lt;Aggregate Root&gt;&gt;
        +FormId id
        +string name
        +FormDefinition definition
        +OriginMetadata origin
        +List~FormRevision~ revisions
        +Create() Form
        +CreateRevision() void
    }
    
    class FormRevision {
        &lt;&lt;Entity&gt;&gt;
        +RevisionId id
        +FormId formId
        +int version
        +FormDefinition definition
        +string notes
        +DateTime createdAt
        +UserId createdBy
    }
    
    class FormDefinition {
        &lt;&lt;Value Object&gt;&gt;
        +string schema
        +List~Field~ fields
    }
    
    class OriginMetadata {
        &lt;&lt;Value Object&gt;&gt;
        +OriginType type
        +string referenceId
        +DateTime createdAt
        +UserId createdBy
    }
    
    class FormCreatedEvent {
        &lt;&lt;Domain Event&gt;&gt;
        +FormId formId
        +string name
        +OriginMetadata origin
    }
    
    class FormRevisionCreatedEvent {
        &lt;&lt;Domain Event&gt;&gt;
        +FormId formId
        +RevisionId revisionId
        +int version
    }
    
    Form "1" --&gt; "*" FormRevision : contains
    Form --&gt; FormDefinition : has
    Form --&gt; OriginMetadata : has
    Form --&gt; FormCreatedEvent : raises
    Form --&gt; FormRevisionCreatedEvent : raises
</div><h3 id="43-form-import-context---detailed-architecture"><strong>4.3 Form Import Context - Detailed Architecture</strong> </h3>
<div class="mermaid">classDiagram
    class ImportBatch {
        &lt;&lt;Aggregate Root&gt;&gt;
        +BatchId id
        +List~string~ uploadedFiles
        +BatchStatus status
        +List~ImportedFormCandidate~ candidates
        +Create() ImportBatch
        +AddCandidate() void
        +Process() void
    }
    
    class ImportedFormCandidate {
        &lt;&lt;Entity&gt;&gt;
        +CandidateId id
        +BatchId batchId
        +string originalFileName
        +string extractedJson
        +ExtractionStatus extractionStatus
        +ApprovalStatus approvalStatus
        +List~string~ validationErrors
        +Approve() void
        +Reject() void
    }
    
    class PdfExtractionService {
        &lt;&lt;Domain Service&gt;&gt;
        +ExtractFormFields(pdf) json
        +ValidateJson(json) bool
    }
    
    class FormCandidateApprovedEvent {
        &lt;&lt;Domain Event&gt;&gt;
        +CandidateId candidateId
        +BatchId batchId
        +string extractedJson
        +UserId approvedBy
    }
    
    ImportBatch "1" --&gt; "*" ImportedFormCandidate : contains
    PdfExtractionService --&gt; ImportedFormCandidate : extracts
    ImportedFormCandidate --&gt; FormCandidateApprovedEvent : raises
</div><h3 id="44-code-generation-context---detailed-architecture"><strong>4.4 Code Generation Context - Detailed Architecture</strong> </h3>
<div class="mermaid">classDiagram
    class CodeGenerationJob {
        &lt;&lt;Aggregate Root&gt;&gt;
        +JobId id
        +FormDefinitionId formDefId
        +FormRevisionId formRevId
        +GenerationVersion version
        +JobStatus status
        +List~GeneratedArtifact~ artifacts
        +GenerationOptions options
        +string outputFolderPath
        +string zipFilePath
        +Create() CodeGenerationJob
        +Generate() void
        +Complete() void
        +Fail() void
    }
    
    class GeneratedArtifact {
        &lt;&lt;Value Object&gt;&gt;
        +ArtifactType type
        +string filePath
        +string content
        +string contentHash
    }
    
    class TemplateBasedCodeGenerator {
        &lt;&lt;Domain Service&gt;&gt;
        +GenerateAll() List~Artifact~
        +GenerateFromTemplate() Artifact
    }
    
    class ICodeTemplate {
        &lt;&lt;Interface&gt;&gt;
        +GeneratePrompt() string
        +PostProcess() string
    }
    
    class InterfaceTemplate {
        +GeneratePrompt() string
        +PostProcess() string
    }
    
    class RepositoryTemplate {
        +GeneratePrompt() string
        +PostProcess() string
    }
    
    class ControllerTemplate {
        +GeneratePrompt() string
        +PostProcess() string
    }
    
    class CodeArtifactOrganizer {
        &lt;&lt;Domain Service&gt;&gt;
        +OrganizeArtifacts() OrganizedArtifacts
    }
    
    class ZipPackager {
        &lt;&lt;Domain Service&gt;&gt;
        +CreateZipArchive() byte[]
    }
    
    CodeGenerationJob "1" --&gt; "*" GeneratedArtifact : contains
    TemplateBasedCodeGenerator --&gt; ICodeTemplate : uses
    ICodeTemplate &lt;|-- InterfaceTemplate : implements
    ICodeTemplate &lt;|-- RepositoryTemplate : implements
    ICodeTemplate &lt;|-- ControllerTemplate : implements
    TemplateBasedCodeGenerator --&gt; CodeGenerationJob : generates for
    CodeArtifactOrganizer --&gt; GeneratedArtifact : organizes
    ZipPackager --&gt; GeneratedArtifact : packages
</div><h3 id="45-code-generation-process-flow"><strong>4.5 Code Generation Process Flow</strong> </h3>
<div class="mermaid">flowchart TD
    Start([User Uploads PDF]) --&gt; CreateJob[Create CodeGenerationJob]
    CreateJob --&gt; InitTemplates[Initialize Templates]
    
    InitTemplates --&gt; LoopStart{More Templates?}
    LoopStart --&gt;|Yes| GetTemplate[Get Next Template]
    GetTemplate --&gt; GenPrompt[Template.GeneratePrompt]
    GenPrompt --&gt; CallClaude[ClaudeAPI.GenerateCode]
    CallClaude --&gt; PostProcess[Template.PostProcess]
    PostProcess --&gt; SaveArtifact[Save Artifact]
    SaveArtifact --&gt; LoopStart
    
    LoopStart --&gt;|No| Organize[Organize Artifacts into Folders]
    Organize --&gt; CreateZip[Create ZIP Archive]
    CreateZip --&gt; UpdateJob[Update Job Status: Completed]
    UpdateJob --&gt; PublishEvent[Publish CodeArtifactsGenerated Event]
    PublishEvent --&gt; End([User Downloads ZIP])
    
    style Start fill:#d4edda
    style CallClaude fill:#fff3cd
    style End fill:#d4edda
</div><hr>
<h2 id="5-technical-stack"><strong>5. Technical Stack</strong> </h2>
<h3 id="51-technology-matrix"><strong>5.1 Technology Matrix</strong> </h3>
<table>
<thead>
<tr>
<th>Layer</th>
<th>Technology</th>
<th>Version</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Backend Framework</strong></td>
<td><a href="http://ASP.NET">ASP.NET</a> Core</td>
<td>8.0</td>
<td>Web API, DI, Configuration</td>
</tr>
<tr>
<td><strong>Language</strong></td>
<td>C#</td>
<td>12.0</td>
<td>Primary development language</td>
</tr>
<tr>
<td><strong>ORM</strong></td>
<td>Entity Framework Core</td>
<td>8.0</td>
<td>Data access layer</td>
</tr>
<tr>
<td><strong>Database</strong></td>
<td>PostgreSQL</td>
<td>15+</td>
<td>Primary data store</td>
</tr>
<tr>
<td><strong>Message Pattern</strong></td>
<td>MediatR</td>
<td>12.0</td>
<td>CQRS implementation</td>
</tr>
<tr>
<td><strong>Mapping</strong></td>
<td>AutoMapper</td>
<td>12.0</td>
<td>DTO/Entity mapping</td>
</tr>
<tr>
<td><strong>Validation</strong></td>
<td>FluentValidation</td>
<td>11.0</td>
<td>Input validation</td>
</tr>
<tr>
<td><strong>Testing</strong></td>
<td>xUnit</td>
<td>2.6</td>
<td>Unit &amp; integration tests</td>
</tr>
<tr>
<td><strong>Assertions</strong></td>
<td>FluentAssertions</td>
<td>6.12</td>
<td>Readable test assertions</td>
</tr>
<tr>
<td><strong>Mocking</strong></td>
<td>Moq</td>
<td>4.20</td>
<td>Test doubles</td>
</tr>
<tr>
<td><strong>API Documentation</strong></td>
<td>Swashbuckle/Swagger</td>
<td>6.5</td>
<td>OpenAPI/Swagger docs</td>
</tr>
<tr>
<td><strong>Logging</strong></td>
<td>Serilog</td>
<td>3.1</td>
<td>Structured logging</td>
</tr>
<tr>
<td><strong>Event Bus</strong></td>
<td>RabbitMQ</td>
<td>3.12</td>
<td>Inter-context messaging</td>
</tr>
<tr>
<td><strong>Blob Storage</strong></td>
<td>Azure Blob Storage</td>
<td>-</td>
<td>Large file storage</td>
</tr>
<tr>
<td><strong>AI Integration</strong></td>
<td>Anthropic Claude API</td>
<td>-</td>
<td>PDF analysis &amp; code gen</td>
</tr>
<tr>
<td><strong>Frontend</strong></td>
<td>React</td>
<td>18.2</td>
<td>(Generated code)</td>
</tr>
<tr>
<td><strong>UI Framework</strong></td>
<td>Bootstrap</td>
<td>5.3</td>
<td>(Generated code)</td>
</tr>
<tr>
<td><strong>Container</strong></td>
<td>Docker</td>
<td>24.0</td>
<td>Containerization</td>
</tr>
<tr>
<td><strong>Orchestration</strong></td>
<td>Kubernetes</td>
<td>1.28</td>
<td>Container orchestration</td>
</tr>
<tr>
<td><strong>CI/CD</strong></td>
<td>GitHub Actions / Azure DevOps</td>
<td>-</td>
<td>Build &amp; deployment</td>
</tr>
</tbody>
</table>
<h3 id="52-nuget-packages"><strong>5.2 NuGet Packages</strong> </h3>
<pre data-role="codeBlock" data-info="xml" class="language-xml xml"><code><span class="token comment">&lt;!-- Core Packages --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Microsoft.AspNetCore.OpenApi<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Swashbuckle.AspNetCore<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6.5.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Database --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Microsoft.EntityFrameworkCore<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Microsoft.EntityFrameworkCore.Design<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Npgsql.EntityFrameworkCore.PostgreSQL<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- CQRS &amp; Patterns --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MediatR<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12.2.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>AutoMapper<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12.0.1<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>AutoMapper.Extensions.Microsoft.DependencyInjection<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12.0.1<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FluentValidation.AspNetCore<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>11.3.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Logging --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Serilog.AspNetCore<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Serilog.Sinks.Console<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Serilog.Sinks.File<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Serilog.Sinks.Seq<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Testing --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xunit<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2.6.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xunit.runner.visualstudio<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2.5.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FluentAssertions<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6.12.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Moq<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.20.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Microsoft.AspNetCore.Mvc.Testing<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Microsoft.EntityFrameworkCore.InMemory<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>8.0.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Azure Services --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Azure.Storage.Blobs<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>12.19.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- RabbitMQ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PackageReference</span> <span class="token attr-name">Include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RabbitMQ.Client<span class="token punctuation">"</span></span> <span class="token attr-name">Version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>6.7.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><hr>
<h2 id="6-data-architecture"><strong>6. Data Architecture</strong> </h2>
<h3 id="61-database-schema---form-context"><strong>6.1 Database Schema - Form Context</strong> </h3>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token comment">-- Forms Table</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-TABLE">TABLE</span> forms <span class="token punctuation">(</span>
    id UUID <span class="token keyword keyword-PRIMARY">PRIMARY</span> <span class="token keyword keyword-KEY">KEY</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> gen_random_uuid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    name <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    definition JSONB <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    origin_type <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    origin_reference_id <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    created_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    modified_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span><span class="token punctuation">,</span>
    created_by <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    modified_by <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    is_deleted <span class="token keyword keyword-BOOLEAN">BOOLEAN</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> <span class="token boolean">FALSE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Form Revisions Table</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-TABLE">TABLE</span> form_revisions <span class="token punctuation">(</span>
    id UUID <span class="token keyword keyword-PRIMARY">PRIMARY</span> <span class="token keyword keyword-KEY">KEY</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> gen_random_uuid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    form_id UUID <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-REFERENCES">REFERENCES</span> forms<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword keyword-ON">ON</span> <span class="token keyword keyword-DELETE">DELETE</span> <span class="token keyword keyword-CASCADE">CASCADE</span><span class="token punctuation">,</span>
    version <span class="token keyword keyword-INT">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    definition JSONB <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    notes <span class="token keyword keyword-TEXT">TEXT</span><span class="token punctuation">,</span>
    created_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    created_by <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-UNIQUE">UNIQUE</span><span class="token punctuation">(</span>form_id<span class="token punctuation">,</span> version<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Indexes</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_forms_created_at <span class="token keyword keyword-ON">ON</span> forms<span class="token punctuation">(</span>created_at <span class="token keyword keyword-DESC">DESC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_forms_is_deleted <span class="token keyword keyword-ON">ON</span> forms<span class="token punctuation">(</span>is_deleted<span class="token punctuation">)</span> INCLUDE <span class="token punctuation">(</span>id<span class="token punctuation">,</span> created_at<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_form_revisions_form_id <span class="token keyword keyword-ON">ON</span> form_revisions<span class="token punctuation">(</span>form_id<span class="token punctuation">,</span> version <span class="token keyword keyword-DESC">DESC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="62-database-schema---import-context"><strong>6.2 Database Schema - Import Context</strong> </h3>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token comment">-- Import Batches Table</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-TABLE">TABLE</span> import_batches <span class="token punctuation">(</span>
    id UUID <span class="token keyword keyword-PRIMARY">PRIMARY</span> <span class="token keyword keyword-KEY">KEY</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> gen_random_uuid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-status">status</span> <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    uploaded_files JSONB <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    created_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    created_by <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    completed_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Imported Form Candidates Table</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-TABLE">TABLE</span> imported_form_candidates <span class="token punctuation">(</span>
    id UUID <span class="token keyword keyword-PRIMARY">PRIMARY</span> <span class="token keyword keyword-KEY">KEY</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> gen_random_uuid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    batch_id UUID <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-REFERENCES">REFERENCES</span> import_batches<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword keyword-ON">ON</span> <span class="token keyword keyword-DELETE">DELETE</span> <span class="token keyword keyword-CASCADE">CASCADE</span><span class="token punctuation">,</span>
    original_file_name <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    extracted_json JSONB<span class="token punctuation">,</span>
    extraction_status <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    approval_status <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    validation_errors JSONB<span class="token punctuation">,</span>
    created_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    approved_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span><span class="token punctuation">,</span>
    approved_by <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    rejected_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span><span class="token punctuation">,</span>
    rejected_by <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    rejection_reason <span class="token keyword keyword-TEXT">TEXT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Indexes</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_import_batches_status <span class="token keyword keyword-ON">ON</span> import_batches<span class="token punctuation">(</span><span class="token keyword keyword-status">status</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_import_batches_created_at <span class="token keyword keyword-ON">ON</span> import_batches<span class="token punctuation">(</span>created_at <span class="token keyword keyword-DESC">DESC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_candidates_batch_id <span class="token keyword keyword-ON">ON</span> imported_form_candidates<span class="token punctuation">(</span>batch_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_candidates_status <span class="token keyword keyword-ON">ON</span> imported_form_candidates<span class="token punctuation">(</span>approval_status<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="63-database-schema---code-generation-context"><strong>6.3 Database Schema - Code Generation Context</strong> </h3>
<pre data-role="codeBlock" data-info="sql" class="language-sql sql"><code><span class="token comment">-- Code Generation Jobs Table</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-TABLE">TABLE</span> code_generation_jobs <span class="token punctuation">(</span>
    id UUID <span class="token keyword keyword-PRIMARY">PRIMARY</span> <span class="token keyword keyword-KEY">KEY</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> gen_random_uuid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    form_definition_id UUID <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    form_revision_id UUID <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    version <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token keyword keyword-status">status</span> <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    options JSONB <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    output_folder_path <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    zip_file_path <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    zip_file_size_bytes <span class="token keyword keyword-BIGINT">BIGINT</span><span class="token punctuation">,</span>
    requested_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    requested_by <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    completed_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span><span class="token punctuation">,</span>
    error_message <span class="token keyword keyword-TEXT">TEXT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Generated Artifacts Table</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-TABLE">TABLE</span> generated_artifacts <span class="token punctuation">(</span>
    id UUID <span class="token keyword keyword-PRIMARY">PRIMARY</span> <span class="token keyword keyword-KEY">KEY</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> gen_random_uuid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    job_id UUID <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-REFERENCES">REFERENCES</span> code_generation_jobs<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword keyword-ON">ON</span> <span class="token keyword keyword-DELETE">DELETE</span> <span class="token keyword keyword-CASCADE">CASCADE</span><span class="token punctuation">,</span>
    artifact_type <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    file_path <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    content <span class="token keyword keyword-TEXT">TEXT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    content_hash <span class="token keyword keyword-VARCHAR">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    size_bytes <span class="token keyword keyword-INT">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    generated_at <span class="token keyword keyword-TIMESTAMP">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword keyword-DEFAULT">DEFAULT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Indexes</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_jobs_form_definition <span class="token keyword keyword-ON">ON</span> code_generation_jobs<span class="token punctuation">(</span>form_definition_id<span class="token punctuation">,</span> version <span class="token keyword keyword-DESC">DESC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_jobs_status <span class="token keyword keyword-ON">ON</span> code_generation_jobs<span class="token punctuation">(</span><span class="token keyword keyword-status">status</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_jobs_requested_at <span class="token keyword keyword-ON">ON</span> code_generation_jobs<span class="token punctuation">(</span>requested_at <span class="token keyword keyword-DESC">DESC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_artifacts_job_id <span class="token keyword keyword-ON">ON</span> generated_artifacts<span class="token punctuation">(</span>job_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword keyword-CREATE">CREATE</span> <span class="token keyword keyword-INDEX">INDEX</span> idx_artifacts_type <span class="token keyword keyword-ON">ON</span> generated_artifacts<span class="token punctuation">(</span>artifact_type<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="64-entity-relationship-diagram"><strong>6.4 Entity Relationship Diagram</strong> </h3>
<div class="mermaid">erDiagram
    FORMS ||--o{ FORM_REVISIONS : has
    IMPORT_BATCHES ||--o{ IMPORTED_FORM_CANDIDATES : contains
    CODE_GENERATION_JOBS ||--o{ GENERATED_ARTIFACTS : produces
    
    FORMS {
        uuid id PK
        varchar name
        jsonb definition
        varchar origin_type
        varchar origin_reference_id
        timestamp created_at
        varchar created_by
        boolean is_deleted
    }
    
    FORM_REVISIONS {
        uuid id PK
        uuid form_id FK
        int version
        jsonb definition
        text notes
        timestamp created_at
        varchar created_by
    }
    
    IMPORT_BATCHES {
        uuid id PK
        varchar status
        jsonb uploaded_files
        timestamp created_at
        varchar created_by
        timestamp completed_at
    }
    
    IMPORTED_FORM_CANDIDATES {
        uuid id PK
        uuid batch_id FK
        varchar original_file_name
        jsonb extracted_json
        varchar extraction_status
        varchar approval_status
        jsonb validation_errors
        timestamp approved_at
        varchar approved_by
    }
    
    CODE_GENERATION_JOBS {
        uuid id PK
        uuid form_definition_id
        uuid form_revision_id
        varchar version
        varchar status
        jsonb options
        varchar output_folder_path
        varchar zip_file_path
        bigint zip_file_size_bytes
        timestamp requested_at
        varchar requested_by
    }
    
    GENERATED_ARTIFACTS {
        uuid id PK
        uuid job_id FK
        varchar artifact_type
        varchar file_path
        text content
        varchar content_hash
        int size_bytes
        timestamp generated_at
    }
</div><hr>
<h2 id="7-integration-architecture"><strong>7. Integration Architecture</strong> </h2>
<h3 id="71-event-driven-communication-flow"><strong>7.1 Event-Driven Communication Flow</strong> </h3>
<div class="mermaid">sequenceDiagram
    participant User
    participant ImportCtx as Import Context
    participant EventBus as Event Bus
    participant FormCtx as Form Context
    participant CodeGenCtx as Code Gen Context
    participant Notification as Notification Service
    
    User-&gt;&gt;ImportCtx: Upload PDF
    ImportCtx-&gt;&gt;ImportCtx: Extract &amp; Validate
    User-&gt;&gt;ImportCtx: Approve Candidate
    
    ImportCtx-&gt;&gt;EventBus: Publish FormCandidateApproved
    
    EventBus-&gt;&gt;FormCtx: FormCandidateApproved
    EventBus-&gt;&gt;Notification: FormCandidateApproved
    
    FormCtx-&gt;&gt;FormCtx: Create Form with Import Origin
    FormCtx-&gt;&gt;EventBus: Publish FormCreated
    
    EventBus-&gt;&gt;CodeGenCtx: FormCreated
    CodeGenCtx-&gt;&gt;CodeGenCtx: Track Form (available for generation)
    
    User-&gt;&gt;CodeGenCtx: Request Code Generation
    CodeGenCtx-&gt;&gt;CodeGenCtx: Create Job &amp; Generate Code
    CodeGenCtx-&gt;&gt;EventBus: Publish CodeArtifactsGenerated
    
    EventBus-&gt;&gt;Notification: CodeArtifactsGenerated
    Notification-&gt;&gt;User: Email: Code Ready for Download
</div><h3 id="72-integration-with-claude-api"><strong>7.2 Integration with Claude API</strong> </h3>
<div class="mermaid">sequenceDiagram
    participant User
    participant Backend
    participant ClaudeAPI as Claude API
    
    User-&gt;&gt;Backend: Upload PDF
    User-&gt;&gt;Backend: Request Generate Code
    Backend-&gt;&gt;User: Return JobId (202 Accepted)
    
    Note over Backend: For each template (15x)
    
    loop For Each Template
        Backend-&gt;&gt;Backend: Template.GeneratePrompt()
        Backend-&gt;&gt;ClaudeAPI: POST /v1/messages&lt;br/&gt;{model, messages:[{&lt;br/&gt;  type: document, source: {...},&lt;br/&gt;  type: text, text: "prompt"&lt;br/&gt;}]}
        
        Note over ClaudeAPI: Analyze PDF&lt;br/&gt;Generate Code
        
        ClaudeAPI-&gt;&gt;Backend: Response: {content:[{&lt;br/&gt;  type: "text",&lt;br/&gt;  text: "generated code"&lt;br/&gt;}]}
        
        Backend-&gt;&gt;Backend: Template.PostProcess()
        Backend-&gt;&gt;Backend: Save Artifact
    end
    
    Backend-&gt;&gt;Backend: Organize Files into Folders
    Backend-&gt;&gt;Backend: Create ZIP Archive
    
    User-&gt;&gt;Backend: Poll Job Status
    Backend-&gt;&gt;User: Status: Completed
    
    User-&gt;&gt;Backend: Download ZIP
    Backend-&gt;&gt;User: ZIP File (All Generated Code)
</div><h3 id="73-api-endpoints"><strong>7.3 API Endpoints</strong> </h3>
<h4 id="form-context-api"><strong>Form Context API</strong> </h4>
<pre data-role="codeBlock" data-info="plaintext" class="language-plaintext plaintext"><code>GET    /api/forms                    # Get all forms
GET    /api/forms/{id}               # Get form by ID
POST   /api/forms                    # Create form
PUT    /api/forms/{id}               # Update form
DELETE /api/forms/{id}               # Delete form
GET    /api/forms/{id}/revisions     # Get form revisions
POST   /api/forms/{id}/revisions     # Create new revision
</code></pre><h4 id="import-context-api"><strong>Import Context API</strong> </h4>
<pre data-role="codeBlock" data-info="plaintext" class="language-plaintext plaintext"><code>POST   /api/imports/batch            # Upload PDF batch
GET    /api/imports/batch/{id}       # Get batch status
GET    /api/imports/batch/{id}/candidates  # Get candidates
POST   /api/imports/candidates/{id}/approve  # Approve candidate
POST   /api/imports/candidates/{id}/reject   # Reject candidate
</code></pre><h4 id="code-generation-context-api"><strong>Code Generation Context API</strong> </h4>
<pre data-role="codeBlock" data-info="plaintext" class="language-plaintext plaintext"><code>POST   /api/code-generation/generate          # Start generation
GET    /api/code-generation/jobs/{id}/status  # Get job status
GET    /api/code-generation/jobs/{id}/download # Download ZIP
GET    /api/code-generation/jobs/{id}/files   # List generated files
GET    /api/code-generation/forms/{id}/history # Get generation history
GET    /api/code-generation/compare?job1={id1}&amp;job2={id2} # Compare generations
</code></pre><hr>
<h2 id="8-security-architecture"><strong>8. Security Architecture</strong> </h2>
<h3 id="81-security-layers"><strong>8.1 Security Layers</strong> </h3>
<div class="mermaid">graph TB
    subgraph Layer1["Layer 1: Perimeter Security"]
        WAF["Web Application Firewall&lt;br/&gt;(WAF)"]
        DDoS["DDoS Protection"]
        RateLimit["Rate Limiting&lt;br/&gt;100 req/min per user"]
        IPWhitelist["IP Whitelisting&lt;br/&gt;(Optional)"]
    end
    
    subgraph Layer2["Layer 2: Authentication &amp; Authorization"]
        JWT["JWT Bearer Tokens&lt;br/&gt;Expires: 1 hour"]
        OAuth["OAuth 2.0 /&lt;br/&gt;OpenID Connect"]
        RBAC["Role-Based Access Control&lt;br/&gt;- Admin&lt;br/&gt;- Developer&lt;br/&gt;- Designer&lt;br/&gt;- Viewer"]
        Claims["Claims-Based&lt;br/&gt;Authorization"]
    end
    
    subgraph Layer3["Layer 3: API Security"]
        HTTPS["HTTPS/TLS 1.3"]
        APIKey["API Key Authentication&lt;br/&gt;(Claude API)"]
        Validation["Request Validation&lt;br/&gt;&amp; Input Sanitization"]
        CORS["CORS Policy"]
        SecHeaders["Security Headers&lt;br/&gt;- HSTS&lt;br/&gt;- CSP&lt;br/&gt;- X-Frame-Options"]
    end
    
    subgraph Layer4["Layer 4: Data Security"]
        EncryptRest["Encryption at Rest&lt;br/&gt;(Database)"]
        EncryptTransit["Encryption in Transit&lt;br/&gt;(TLS)"]
        DataMask["Sensitive Data Masking"]
        SecureFile["Secure File Storage&lt;br/&gt;(Azure Blob)"]
    end
    
    subgraph Layer5["Layer 5: Secrets Management"]
        KeyVault["Azure Key Vault /&lt;br/&gt;AWS Secrets Manager"]
        APIKeyStore["API Keys Stored Securely"]
        ConnString["Connection Strings&lt;br/&gt;Encrypted"]
        NoSecrets["No Secrets in&lt;br/&gt;Source Code"]
    end
    
    subgraph Layer6["Layer 6: Audit &amp; Monitoring"]
        Logging["Comprehensive Logging&lt;br/&gt;(Serilog)"]
        SecEvent["Security Event&lt;br/&gt;Monitoring"]
        Anomaly["Anomaly Detection"]
        Compliance["Compliance Reporting"]
    end
    
    Internet[Internet Traffic] --&gt; Layer1
    Layer1 --&gt; Layer2
    Layer2 --&gt; Layer3
    Layer3 --&gt; Layer4
    Layer4 --&gt; Layer5
    Layer5 --&gt; Layer6
    Layer6 --&gt; Application[Application&lt;br/&gt;Processing]
    
    style Layer1 fill:#ffcccc
    style Layer2 fill:#ffe6cc
    style Layer3 fill:#ffffcc
    style Layer4 fill:#ccffcc
    style Layer5 fill:#ccffff
    style Layer6 fill:#ccccff
</div><h3 id="82-security-flow---request-processing">**8.2 Security Flow - Request Processing </h3>
<div class="mermaid">flowchart TD
    Start([Incoming Request]) --&gt; CheckWAF{WAF Rules&lt;br/&gt;Passed?}
    CheckWAF --&gt;|No| Block1[Block Request&lt;br/&gt;403 Forbidden]
    CheckWAF --&gt;|Yes| CheckRate{Rate Limit&lt;br/&gt;OK?}
    
    CheckRate --&gt;|No| Block2[Block Request&lt;br/&gt;429 Too Many Requests]
    CheckRate --&gt;|Yes| CheckAuth{JWT Token&lt;br/&gt;Valid?}
    
    CheckAuth --&gt;|No| Block3[Block Request&lt;br/&gt;401 Unauthorized]
    CheckAuth --&gt;|Yes| CheckRole{User Has&lt;br/&gt;Required Role?}
    
    CheckRole --&gt;|No| Block4[Block Request&lt;br/&gt;403 Forbidden]
    CheckRole --&gt;|Yes| ValidateInput{Input&lt;br/&gt;Valid?}
    
    ValidateInput --&gt;|No| Block5[Block Request&lt;br/&gt;400 Bad Request]
    ValidateInput --&gt;|Yes| Sanitize[Sanitize Input]
    
    Sanitize --&gt; CheckCSRF{CSRF Token&lt;br/&gt;Valid?}
    CheckCSRF --&gt;|No| Block6[Block Request&lt;br/&gt;403 Forbidden]
    CheckCSRF --&gt;|Yes| ProcessReq[Process Request]
    
    ProcessReq --&gt; Encrypt[Encrypt Sensitive&lt;br/&gt;Response Data]
    Encrypt --&gt; AuditLog[Log Security Event]
    AuditLog --&gt; End([Send Response])
    
    Block1 --&gt; LogBlock[Log Security&lt;br/&gt;Event]
    Block2 --&gt; LogBlock
    Block3 --&gt; LogBlock
    Block4 --&gt; LogBlock
    Block5 --&gt; LogBlock
    Block6 --&gt; LogBlock
    
    style Block1 fill:#ffcccc
    style Block2 fill:#ffcccc
    style Block3 fill:#ffcccc
    style Block4 fill:#ffcccc
    style Block5 fill:#ffcccc
    style Block6 fill:#ffcccc
    style End fill:#ccffcc
</div><h3 id="83-security-threat-model"><strong>8.3 Security Threat Model</strong> </h3>
<div class="mermaid">graph LR
    subgraph Threats["Potential Threats"]
        SQL["SQL Injection"]
        XSS["Cross-Site Scripting"]
        CSRF["CSRF Attacks"]
        BruteForce["Brute Force"]
        DDoSAttack["DDoS Attack"]
        DataBreach["Data Breach"]
        MITM["Man-in-the-Middle"]
        APIAbuse["API Key Abuse"]
    end
    
    subgraph Mitigations["Mitigations"]
        ParamQuery["Parameterized&lt;br/&gt;Queries"]
        InputSan["Input Sanitization&lt;br/&gt;&amp; Output Encoding"]
        CSRFToken["CSRF Tokens"]
        RateLimit2["Rate Limiting&lt;br/&gt;&amp; Account Lockout"]
        CloudDDoS["Cloud DDoS&lt;br/&gt;Protection"]
        Encryption["Encryption at Rest&lt;br/&gt;&amp; in Transit"]
        TLS["TLS 1.3"]
        KeyRotation["API Key Rotation&lt;br/&gt;Every 90 Days"]
    end
    
    SQL -.mitigated by.-&gt; ParamQuery
    XSS -.mitigated by.-&gt; InputSan
    CSRF -.mitigated by.-&gt; CSRFToken
    BruteForce -.mitigated by.-&gt; RateLimit2
    DDoSAttack -.mitigated by.-&gt; CloudDDoS
    DataBreach -.mitigated by.-&gt; Encryption
    MITM -.mitigated by.-&gt; TLS
    APIAbuse -.mitigated by.-&gt; KeyRotation
    
    style Threats fill:#ffcccc
    style Mitigations fill:#ccffcc
</div><h3 id="84-data-protection-flow"><strong>8.4 Data Protection Flow</strong> </h3>
<div class="mermaid">flowchart LR
    subgraph Input["Data Input"]
        UserData["User Submits&lt;br/&gt;Sensitive Data"]
    end
    
    subgraph Transit["In Transit"]
        TLS1["TLS 1.3&lt;br/&gt;Encryption"]
        HTTPS1["HTTPS Only"]
    end
    
    subgraph Processing["Processing"]
        Validate["Validate &amp; Sanitize"]
        Mask["Mask Sensitive&lt;br/&gt;Fields in Logs"]
    end
    
    subgraph Storage["At Rest"]
        DBEncrypt["Database&lt;br/&gt;Encryption"]
        BlobEncrypt["Blob Storage&lt;br/&gt;Encryption"]
        BackupEncrypt["Encrypted&lt;br/&gt;Backups"]
    end
    
    subgraph Access["Access Control"]
        RBAC2["Role-Based&lt;br/&gt;Access"]
        Audit["Audit Logging"]
        KeyMgmt["Key Management&lt;br/&gt;(Key Vault)"]
    end
    
    UserData --&gt; TLS1
    TLS1 --&gt; HTTPS1
    HTTPS1 --&gt; Validate
    Validate --&gt; Mask
    Mask --&gt; DBEncrypt
    Mask --&gt; BlobEncrypt
    DBEncrypt --&gt; BackupEncrypt
    
    RBAC2 -.controls.-&gt; DBEncrypt
    RBAC2 -.controls.-&gt; BlobEncrypt
    Audit -.monitors.-&gt; RBAC2
    KeyMgmt -.manages.-&gt; DBEncrypt
    
    style Input fill:#e3f2fd
    style Transit fill:#fff3e0
    style Processing fill:#f3e5f5
    style Storage fill:#e8f5e9
    style Access fill:#fce4ec
</div><h3 id="85-secrets-management-architecture"><strong>8.5 Secrets Management Architecture</strong> </h3>
<div class="mermaid">graph TB
    subgraph DevEnv["Development Environment"]
        DevSecrets["User Secrets&lt;br/&gt;(dotnet user-secrets)"]
        LocalConfig["appsettings.Development.json&lt;br/&gt;(No sensitive data)"]
    end
    
    subgraph CI_CD["CI/CD Pipeline"]
        EnvVars["Environment Variables&lt;br/&gt;(GitHub Secrets)"]
        BuildSecrets["Build-time Secrets&lt;br/&gt;(Masked in Logs)"]
    end
    
    subgraph Cloud["Cloud Environment"]
        KeyVault2["Azure Key Vault"]
        ManagedIdentity["Managed Identity&lt;br/&gt;(No credentials in code)"]
        SecretRotation["Automatic Secret&lt;br/&gt;Rotation"]
    end
    
    subgraph App["Application"]
        Config["Configuration&lt;br/&gt;Provider"]
        Runtime["Runtime Access&lt;br/&gt;(In-Memory Only)"]
    end
    
    DevSecrets -.used by.-&gt; App
    LocalConfig -.used by.-&gt; App
    
    EnvVars -.injected into.-&gt; BuildSecrets
    BuildSecrets -.deployed to.-&gt; Cloud
    
    KeyVault2 --&gt; ManagedIdentity
    ManagedIdentity --&gt; Config
    SecretRotation --&gt; KeyVault2
    Config --&gt; Runtime
    
    style DevEnv fill:#e3f2fd
    style CI_CD fill:#fff3e0
    style Cloud fill:#e8f5e9
    style App fill:#f3e5f5
</div><h3 id="86-security-monitoring-dashboard"><strong>8.6 Security Monitoring Dashboard</strong> </h3>
<div class="mermaid">graph TB
    subgraph Sources["Security Event Sources"]
        WAFLogs["WAF Logs"]
        APILogs["API Access Logs"]
        AuthLogs["Authentication Logs"]
        DBLogs["Database Audit Logs"]
        AppLogs["Application Logs"]
    end
    
    subgraph Aggregation["Log Aggregation"]
        Serilog["Serilog"]
        AppInsights2["Application Insights"]
        AzureMonitor["Azure Monitor"]
    end
    
    subgraph Analysis["Security Analysis"]
        SIEM["SIEM&lt;br/&gt;(Security Information&lt;br/&gt;Event Management)"]
        Alerts["Alert Rules"]
        ML["ML-based Anomaly&lt;br/&gt;Detection"]
    end
    
    subgraph Response["Incident Response"]
        Dashboard["Security Dashboard"]
        Notifications["Email/SMS&lt;br/&gt;Notifications"]
        AutoBlock["Automatic&lt;br/&gt;IP Blocking"]
        Playbooks["Incident&lt;br/&gt;Response Playbooks"]
    end
    
    Sources --&gt; Aggregation
    Aggregation --&gt; Analysis
    Analysis --&gt; Response
    
    Response -.triggers.-&gt; AutoBlock
    
    style Sources fill:#ffebee
    style Aggregation fill:#fff3e0
    style Analysis fill:#e8f5e9
    style Response fill:#e3f2fd
</div><h3 id="87-compliance-and-audit-trail"><strong>8.7 Compliance and Audit Trail</strong> </h3>
<div class="mermaid">flowchart TD
    Event[Security Event Occurs] --&gt; Capture[Capture Event Details]
    
    Capture --&gt; LogDetails[Log:&lt;br/&gt;- Timestamp&lt;br/&gt;- User ID&lt;br/&gt;- IP Address&lt;br/&gt;- Action&lt;br/&gt;- Resource&lt;br/&gt;- Result]
    
    LogDetails --&gt; Encrypt2[Encrypt Log Entry]
    Encrypt2 --&gt; Store[Store in Audit Database]
    
    Store --&gt; Index[Index for Search]
    Index --&gt; Retention{Retention&lt;br/&gt;Period Met?}
    
    Retention --&gt;|No| Monitor[Available for&lt;br/&gt;Monitoring &amp; Analysis]
    Retention --&gt;|Yes| Archive[Archive to&lt;br/&gt;Cold Storage]
    
    Monitor --&gt; Alert2{Alert&lt;br/&gt;Threshold?}
    Alert2 --&gt;|Yes| Notify[Notify Security Team]
    Alert2 --&gt;|No| Monitor
    
    Archive --&gt; Compliance2[Compliance Reporting:&lt;br/&gt;- SOC 2&lt;br/&gt;- ISO 27001&lt;br/&gt;- GDPR&lt;br/&gt;- HIPAA]
    
    style Event fill:#e3f2fd
    style Notify fill:#ffcccc
    style Compliance2 fill:#e8f5e9
</div><h3 id="88-authentication-flow"><strong>8.8 Authentication Flow</strong> </h3>
<div class="mermaid">sequenceDiagram
    participant Client
    participant API as API Gateway
    participant IdP as Identity Provider
    
    Client-&gt;&gt;API: 1. Login Request (username, password)
    API-&gt;&gt;IdP: 2. Authenticate User
    IdP-&gt;&gt;IdP: Validate Credentials
    IdP-&gt;&gt;API: 3. JWT Token + Refresh Token
    API-&gt;&gt;Client: 4. Return Tokens
    
    Note over Client: Store JWT Token
    
    Client-&gt;&gt;API: 5. API Request + JWT Token (Header)
    API-&gt;&gt;IdP: 6. Validate Token
    IdP-&gt;&gt;API: 7. Token Valid (Claims)
    API-&gt;&gt;API: 8. Check Authorization (RBAC)
    API-&gt;&gt;API: 9. Process Request
    API-&gt;&gt;Client: 10. Response
    
    Note over Client: Token expires after 1 hour
    
    Client-&gt;&gt;API: 11. Request with Expired Token
    API-&gt;&gt;Client: 12. 401 Unauthorized
    Client-&gt;&gt;API: 13. Refresh Token Request
    IdP-&gt;&gt;Client: 14. New JWT Tokenv
</div><h3 id="89-role-based-access-control"><strong>8.9 Role-Based Access Control</strong> </h3>
<table>
<thead>
<tr>
<th>Role</th>
<th>Permissions</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Admin</strong></td>
<td>Full access to all contexts, can manage users</td>
</tr>
<tr>
<td><strong>Developer</strong></td>
<td>Create/update forms, generate code, view history</td>
</tr>
<tr>
<td><strong>Designer</strong></td>
<td>Upload PDFs, approve candidates, view forms</td>
</tr>
<tr>
<td><strong>Viewer</strong></td>
<td>Read-only access to forms and generated code</td>
</tr>
</tbody>
</table>
<h3 id="810-security-best-practices-implemented"><strong>8.10 Security Best Practices Implemented</strong> </h3>
<ul>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> All API endpoints require authentication</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> JWT tokens expire after 1 hour</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> Refresh tokens for extended sessions</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> Password hashing with BCrypt (min 12 rounds)</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> SQL injection prevention via parameterized queries</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> XSS prevention via input sanitization</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> CSRF tokens for state-changing operations</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> Rate limiting: 100 requests/minute per user</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> File upload validation (type, size, malware scan)</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> Secure headers (HSTS, CSP, X-Frame-Options)</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> API key rotation every 90 days</li>
<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox"> Audit logging of all sensitive operations</li>
</ul>
<hr>
<h2 id="9-deployment-architecture"><strong>9. Deployment Architecture</strong> </h2>
<h3 id="91-cloud-deployment-azure"><strong>9.1 Cloud Deployment (Azure)</strong> </h3>
<div class="mermaid">graph LR
    subgraph Internet["Internet"]
        Users["Users"]
    end
    
    subgraph Azure["Azure Cloud"]
        subgraph FrontDoor["Azure Front Door"]
            LB["Load Balancer"]
            WAF["Web Application Firewall"]
            SSL["SSL Termination"]
        end
        
        subgraph AKS["Azure Kubernetes Service (AKS)"]
            subgraph APIPods["API Pods"]
                API1["API Pod 1"]
                API2["API Pod 2"]
                API3["API Pod 3"]
            end
            
            subgraph WorkerPods["Worker Pods"]
                Worker1["Worker Pod 1"]
                Worker2["Worker Pod 2"]
            end
            
            Redis["Redis Cache"]
        end
        
        subgraph DataServices["Data Services"]
            PostgreSQL["Azure PostgreSQL&lt;br/&gt;(Flexible Server)"]
            BlobStorage["Azure Blob Storage"]
            ServiceBus["Azure Service Bus&lt;br/&gt;(RabbitMQ)"]
        end
        
        subgraph Support["Supporting Services"]
            KeyVault["Azure Key Vault&lt;br/&gt;(Secrets)"]
            Monitor["Azure Monitor&lt;br/&gt;(Logging/Metrics)"]
            AppInsights["Application Insights&lt;br/&gt;(APM)"]
            ACR["Azure Container Registry&lt;br/&gt;(Images)"]
        end
    end
    
    subgraph External["External Services"]
        ClaudeAPI["Claude API&lt;br/&gt;(Anthropic)"]
    end
    
    Users --&gt; FrontDoor
    FrontDoor --&gt; AKS
    
    APIPods --&gt; Redis
    APIPods --&gt; PostgreSQL
    APIPods --&gt; BlobStorage
    APIPods --&gt; ServiceBus
    
    WorkerPods --&gt; PostgreSQL
    WorkerPods --&gt; BlobStorage
    WorkerPods --&gt; ServiceBus
    WorkerPods --&gt; ClaudeAPI
    
    AKS --&gt; KeyVault
    AKS --&gt; Monitor
    AKS --&gt; AppInsights
    AKS -.pulls images.-&gt; ACR
</div><h3 id="92-environment-strategy"><strong>9.2 Environment Strategy</strong> </h3>
<h4 id="921-environment-pipeline"><strong>9.2.1 Environment Pipeline</strong> </h4>
<div class="mermaid">graph TD
    subgraph Development["Development Environment"]
        DevEnv["Local Docker Compose&lt;br/&gt;In-memory DB&lt;br/&gt;Mock Services&lt;br/&gt;Hot Reload"]
    end
    
    subgraph Staging["Staging Environment"]
        StagingEnv["Azure AKS (Small)&lt;br/&gt;Shared PostgreSQL&lt;br/&gt;Claude API (dev key)&lt;br/&gt;Automated Tests"]
    end
    
    subgraph Production["Production Environment"]
        ProdEnv["Azure AKS (Multi-region)&lt;br/&gt;Dedicated PostgreSQL&lt;br/&gt;Claude API (prod key)&lt;br/&gt;Blue/Green Deployment&lt;br/&gt;Auto-scaling"]
    end
    
    Development --&gt;|Git Push| Staging
    Staging --&gt;|Manual Approval| Production
    
    style Development fill:#d4edda
    style Staging fill:#fff3cd
    style Production fill:#f8d7da
</div><h4 id="922-cicd-pipeline-flow"><strong>9.2.2 CI/CD Pipeline Flow</strong> </h4>
<div class="mermaid">graph LR
    subgraph Developer["Developer"]
        Dev["Developer&lt;br/&gt;Commits Code"]
    end
    
    subgraph GitRepo["Git Repository"]
        GitHub["GitHub/Azure DevOps"]
    end
    
    subgraph CI["Continuous Integration"]
        Build["Build"]
        UnitTest["Unit Tests"]
        IntTest["Integration Tests"]
        CodeQuality["Code Quality&lt;br/&gt;(SonarQube)"]
        Security["Security Scan&lt;br/&gt;(Snyk/Trivy)"]
    end
    
    subgraph CD["Continuous Deployment"]
        Docker["Build Docker Image"]
        Push["Push to Registry"]
        DeployStaging["Deploy to Staging"]
        SmokeTest["Smoke Tests"]
        Approval["Manual Approval"]
        DeployProd["Deploy to Production"]
    end
    
    Dev --&gt; GitHub
    GitHub --&gt; Build
    Build --&gt; UnitTest
    UnitTest --&gt; IntTest
    IntTest --&gt; CodeQuality
    CodeQuality --&gt; Security
    Security --&gt; Docker
    Docker --&gt; Push
    Push --&gt; DeployStaging
    DeployStaging --&gt; SmokeTest
    SmokeTest --&gt; Approval
    Approval --&gt; DeployProd
</div><h3 id="93-scaling-strategy"><strong>9.3 Scaling Strategy</strong> </h3>
<p>|   Component        Min  Max  Scale Trigger |<br>
| --------------- | ------ | ------- | ---------------- |<br>
| API Pods           3   20   CPU &gt; 70% or Memory &gt; 80%<br>
Worker Pods          2   10   Queue depth &gt; 50<br>
PostgreSQL           -    -   Vertical scaling as needed<br>
Redis Cache          1    3   Memory &gt; 80%<br>
Blob Storage         -    -   Auto-scales<br>
Service Bus          -    -   Auto-scales</p>
<h3 id="94-disaster-recovery"><strong>9.4 Disaster Recovery</strong> </h3>
<ul>
<li><strong>RTO (Recovery Time Objective):</strong> 4 hours</li>
<li><strong>RPO (Recovery Point Objective):</strong> 15 minutes</li>
</ul>
<p><strong>Backup Strategy:</strong></p>
<ul>
<li>Database: Automated backups every 6 hours, retained for 30 days</li>
<li>Blob Storage: Geo-redundant storage (GRS)</li>
<li>Configuration: Stored in Git, versioned</li>
</ul>
<p><strong>Recovery Procedures:</strong></p>
<ol>
<li>Database restore from latest backup</li>
<li>Deploy latest container images</li>
<li>Restore configuration from Key Vault</li>
<li>Validate all services operational</li>
<li>Resume operations</li>
</ol>
<hr>
<h2 id="10-non-functional-requirements"><strong>10. Non-Functional Requirements</strong> </h2>
<h3 id="101-performance-requirements"><strong>10.1 Performance Requirements</strong> </h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Target</th>
<th>Measurement</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>API Response Time</strong></td>
<td>&lt; 200ms (p95)</td>
<td>Median response for GET requests</td>
</tr>
<tr>
<td><strong>Code Generation Time</strong></td>
<td>30s - 5 min</td>
<td>Depends on form complexity</td>
</tr>
<tr>
<td><strong>Concurrent Users</strong></td>
<td>500+</td>
<td>Simultaneous active users</td>
</tr>
<tr>
<td><strong>File Upload</strong></td>
<td>&lt; 10 seconds</td>
<td>For PDFs up to 10MB</td>
</tr>
<tr>
<td><strong>Download Speed</strong></td>
<td>&gt; 10 MB/s</td>
<td>ZIP file download</td>
</tr>
<tr>
<td><strong>Database Queries</strong></td>
<td>&lt; 100ms (p95)</td>
<td>Simple CRUD operations</td>
</tr>
</tbody>
</table>
<h3 id="102-availability-requirements"><strong>10.2 Availability Requirements</strong> </h3>
<ul>
<li><strong>Uptime SLA:</strong> 99.9% (&lt; 8.76 hours downtime/year)</li>
<li><strong>Scheduled Maintenance:</strong> Monthly, 2-hour window</li>
<li><strong>Monitoring:</strong> 24/7 automated monitoring</li>
<li><strong>Incident Response:</strong> &lt; 15 minutes to acknowledge, &lt; 4 hours to resolve</li>
</ul>
<h3 id="103-scalability-requirements"><strong>10.3 Scalability Requirements</strong> </h3>
<ul>
<li><strong>Horizontal Scaling:</strong> Auto-scale from 3 to 20 pods</li>
<li><strong>Database Connections:</strong> Support 200+ concurrent connections</li>
<li><strong>Storage:</strong> Unlimited (cloud-based)</li>
<li><strong>Generation Queue:</strong> Handle 1000+ jobs in queue</li>
</ul>
<h3 id="104-reliability-requirements"><strong>10.4 Reliability Requirements</strong> </h3>
<ul>
<li><strong>Data Durability:</strong> 99.999999999% (11 nines)</li>
<li><strong>Error Rate:</strong> &lt; 0.1% of requests</li>
<li><strong>Failed Jobs:</strong> &lt; 5% failure rate</li>
<li><strong>Retry Logic:</strong> 3 attempts with exponential backoff</li>
</ul>
<h3 id="105-maintainability-requirements"><strong>10.5 Maintainability Requirements</strong> </h3>
<ul>
<li><strong>Code Coverage:</strong> &gt; 80% test coverage</li>
<li><strong>Documentation:</strong> All public APIs documented</li>
<li><strong>Logging:</strong> Structured logging for all operations</li>
<li><strong>Monitoring:</strong> Health checks every 30 seconds</li>
<li><strong>Deployment:</strong> Zero-downtime deployments</li>
</ul>
<hr>
<h2 id="11-future-enhancements"><strong>11. Future Enhancements</strong> </h2>
<h3 id="111-phase-2-features"><strong>11.1 Phase 2 Features</strong> </h3>
<h4 id="multi-language-support"><strong>Multi-Language Support</strong> </h4>
<ul>
<li>Generate code in additional languages: Java, Python, TypeScript</li>
<li>Support for multiple frameworks: Spring Boot, Django, NestJS</li>
</ul>
<h4 id="advanced-template-customization"><strong>Advanced Template Customization</strong> </h4>
<ul>
<li>User-defined templates</li>
<li>Template marketplace</li>
<li>Template versioning</li>
</ul>
<h4 id="enhanced-ai-capabilities"><strong>Enhanced AI Capabilities</strong> </h4>
<ul>
<li>Form field type inference improvement</li>
<li>Business rule extraction from PDFs</li>
<li>Automatic validation rule generation</li>
</ul>
<h4 id="collaborative-features"><strong>Collaborative Features</strong> </h4>
<ul>
<li>Team workspaces</li>
<li>Shared form libraries</li>
<li>Code review workflows</li>
</ul>
<h3 id="112-phase-3-features"><strong>11.2 Phase 3 Features</strong> </h3>
<h4 id="no-code-form-builder"><strong>No-Code Form Builder</strong> </h4>
<ul>
<li>Visual form designer</li>
<li>Drag-and-drop interface</li>
<li>Real-time preview</li>
</ul>
<h4 id="integration-plugins"><strong>Integration Plugins</strong> </h4>
<ul>
<li>Direct GitHub/GitLab integration</li>
<li>Azure DevOps work item creation</li>
<li>Jira ticket generation</li>
</ul>
<h4 id="analytics--insights"><strong>Analytics &amp; Insights</strong> </h4>
<ul>
<li>Form complexity analysis</li>
<li>Code quality metrics</li>
<li>Usage analytics dashboard</li>
</ul>
<h4 id="enterprise-features"><strong>Enterprise Features</strong> </h4>
<ul>
<li>Multi-tenancy</li>
<li>Custom branding</li>
<li>SSO/SAML support</li>
<li>Advanced RBAC</li>
</ul>
<hr>
<h2 id="appendix-a-glossary"><strong>Appendix A: Glossary</strong> </h2>
<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Aggregate</strong></td>
<td>A cluster of domain objects treated as a single unit</td>
</tr>
<tr>
<td><strong>Bounded Context</strong></td>
<td>An explicit boundary within which a domain model is defined</td>
</tr>
<tr>
<td><strong>CQRS</strong></td>
<td>Command Query Responsibility Segregation pattern</td>
</tr>
<tr>
<td><strong>Domain Event</strong></td>
<td>Something that happened in the domain that domain experts care about</td>
</tr>
<tr>
<td><strong>Entity</strong></td>
<td>An object with a distinct identity that persists over time</td>
</tr>
<tr>
<td><strong>Repository</strong></td>
<td>Encapsulates data access logic</td>
</tr>
<tr>
<td><strong>Value Object</strong></td>
<td>An immutable object defined by its attributes</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="appendix-b-references"><strong>Appendix B: References</strong> </h2>
<ul>
<li><strong>Domain-Driven Design:</strong> Eric Evans, "Domain-Driven Design: Tackling Complexity in the Heart of Software"</li>
<li><strong>Clean Architecture:</strong> Robert C. Martin, "Clean Architecture: A Craftsman's Guide to Software Structure"</li>
<li><strong>Anthropic API Documentation:</strong> <a href="https://docs.anthropic.com/">https://docs.anthropic.com/</a></li>
<li><strong><a href="http://ASP.NET">ASP.NET</a> Core Documentation:</strong> <a href="https://docs.microsoft.com/aspnet/core">https://docs.microsoft.com/aspnet/core</a></li>
<li><strong>Entity Framework Core:</strong> <a href="https://docs.microsoft.com/ef/core">https://docs.microsoft.com/ef/core</a></li>
</ul>
<hr>
<h2 id="document-control"><strong>Document Control</strong> </h2>
<table>
<thead>
<tr>
<th>Version</th>
<th>Date</th>
<th>Author</th>
<th>Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0</td>
<td>Dec 2024</td>
<td>Architecture Team</td>
<td>Initial draft</td>
</tr>
</tbody>
</table>
<p><strong>Approval:</strong></p>
<ul>
<li><a href="#">&nbsp;</a> Technical Lead</li>
<li><a href="#">&nbsp;</a> Security Team</li>
<li><a href="#">&nbsp;</a> DevOps Team</li>
<li><a href="#">&nbsp;</a> Product Owner</li>
</ul>
<hr>
</div>
      </div>
      
      
    
    
    <script type="module">
// TODO: If ZenUML gets integrated into mermaid in the future,
//      we can remove the following lines.
var MERMAID_CONFIG = ({"startOnLoad":false});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "default"
}

mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
} else {
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
}
</script>
    
    
    
  
    </body></html>