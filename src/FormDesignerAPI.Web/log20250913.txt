2025-09-13 19:08:46.920 -04:00 [INF] Registered 10 endpoints in 111 milliseconds.
2025-09-13 19:08:47.328 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-09-13 19:08:47.455 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-09-13 19:08:47.904 -04:00 [INF] Now listening on: https://localhost:64626
2025-09-13 19:08:47.904 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 19:08:47.904 -04:00 [INF] Hosting environment: Development
2025-09-13 19:08:47.904 -04:00 [INF] Content root path: /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Web
2025-09-13 19:08:48.926 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:64625/Contributors - null null
2025-09-13 19:08:48.946 -04:00 [INF] Executing endpoint 'HTTP: GET /Contributors'
2025-09-13 19:08:48.966 -04:00 [INF] Handling ListContributorsQuery
2025-09-13 19:08:48.966 -04:00 [INF] Property Skip : null
2025-09-13 19:08:48.966 -04:00 [INF] Property Take : null
2025-09-13 19:08:48.966 -04:00 [INF] Handling ListContributorsQuery
2025-09-13 19:08:48.967 -04:00 [INF] Property Skip : null
2025-09-13 19:08:48.967 -04:00 [INF] Property Take : null
2025-09-13 19:08:49.001 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT Id, Name, PhoneNumber_Number AS PhoneNumber FROM Contributors
2025-09-13 19:08:49.003 -04:00 [INF] Handled ListContributorsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Contributors.ContributorDTO]] in 36 ms
2025-09-13 19:08:49.003 -04:00 [INF] Handled ListContributorsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Contributors.ContributorDTO]] in 36 ms
2025-09-13 19:08:49.006 -04:00 [INF] Handling ListContributorsQuery2
2025-09-13 19:08:49.006 -04:00 [INF] Property Skip : null
2025-09-13 19:08:49.006 -04:00 [INF] Property Take : null
2025-09-13 19:08:49.006 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT Id, Name, PhoneNumber_Number AS PhoneNumber FROM Contributors
2025-09-13 19:08:49.007 -04:00 [INF] Handled ListContributorsQuery2 with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Contributors.ContributorDTO]] in 0 ms
2025-09-13 19:08:49.022 -04:00 [INF] Executed endpoint 'HTTP: GET /Contributors'
2025-09-13 19:08:49.024 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:64625/Contributors - 200 null application/json; charset=utf-8 102.9109ms
2025-09-13 19:08:49.300 -04:00 [INF] Application is shutting down...
2025-09-13 19:08:52.675 -04:00 [INF] Registered 10 endpoints in 100 milliseconds.
2025-09-13 19:08:53.040 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-09-13 19:08:53.161 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-09-13 19:08:53.549 -04:00 [INF] Now listening on: https://localhost:64681
2025-09-13 19:08:53.549 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 19:08:53.549 -04:00 [INF] Hosting environment: Development
2025-09-13 19:08:53.549 -04:00 [INF] Content root path: /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Web
2025-09-13 19:08:53.838 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:64680/Forms - null null
2025-09-13 19:08:53.857 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-09-13 19:08:53.876 -04:00 [INF] Handling ListFormsQuery
2025-09-13 19:08:53.877 -04:00 [INF] Property Skip : null
2025-09-13 19:08:53.877 -04:00 [INF] Property Take : null
2025-09-13 19:08:53.877 -04:00 [INF] Handling ListFormsQuery
2025-09-13 19:08:53.877 -04:00 [INF] Property Skip : null
2025-09-13 19:08:53.877 -04:00 [INF] Property Take : null
2025-09-13 19:08:53.911 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT Id, FormNumber, FormTitle, Division, Owner_Name AS Owner, Version, CreatedDate, RevisedDate, ConfigurationPath FROM Forms
2025-09-13 19:08:53.915 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 38 ms
2025-09-13 19:08:53.915 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 38 ms
2025-09-13 19:08:53.933 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-09-13 19:08:53.935 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:64680/Forms - 200 null application/json; charset=utf-8 100.2275ms
2025-09-13 19:08:54.186 -04:00 [INF] Application is shutting down...
2025-09-13 20:37:33.673 -04:00 [INF] Registered 10 endpoints in 117 milliseconds.
2025-09-13 20:37:34.097 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-09-13 20:37:34.217 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-09-13 20:37:34.595 -04:00 [INF] Now listening on: https://localhost:49243
2025-09-13 20:37:34.595 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-13 20:37:34.595 -04:00 [INF] Hosting environment: Development
2025-09-13 20:37:34.595 -04:00 [INF] Content root path: /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Web
2025-09-13 20:37:55.051 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2025-09-13 20:37:55.069 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 22.7458ms
2025-09-13 20:37:55.072 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-09-13 20:37:55.113 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 41.2896ms
2025-09-13 20:37:55.186 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-09-13 20:37:55.190 -04:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-09-13 20:37:55.426 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 240.0512ms
2025-09-13 20:38:05.540 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms - null null
2025-09-13 20:38:05.543 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-09-13 20:38:05.567 -04:00 [INF] Handling ListFormsQuery
2025-09-13 20:38:05.568 -04:00 [INF] Property Skip : null
2025-09-13 20:38:05.568 -04:00 [INF] Property Take : null
2025-09-13 20:38:05.568 -04:00 [INF] Handling ListFormsQuery
2025-09-13 20:38:05.568 -04:00 [INF] Property Skip : null
2025-09-13 20:38:05.568 -04:00 [INF] Property Take : null
2025-09-13 20:38:05.613 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT Id, FormNumber, FormTitle, Division, Owner_Name AS Owner, Version, CreatedDate, RevisedDate, ConfigurationPath FROM Forms
2025-09-13 20:38:05.616 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 47 ms
2025-09-13 20:38:05.616 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 47 ms
2025-09-13 20:38:05.632 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-09-13 20:38:05.633 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms - 200 null application/json; charset=utf-8 93.015ms
2025-09-13 20:38:36.175 -04:00 [INF] Request starting HTTP/2 DELETE https://localhost:57679/Forms/1 - null null
2025-09-13 20:38:36.177 -04:00 [INF] Executing endpoint 'HTTP: DELETE /Forms/{FormId:int}'
2025-09-13 20:38:36.200 -04:00 [INF] Handling DeleteFormCommand
2025-09-13 20:38:36.200 -04:00 [INF] Property FormId : 1
2025-09-13 20:38:36.200 -04:00 [INF] Handling DeleteFormCommand
2025-09-13 20:38:36.201 -04:00 [INF] Property FormId : 1
2025-09-13 20:38:36.205 -04:00 [INF] Deleting Form 1
2025-09-13 20:38:36.277 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."ConfigurationPath", "f"."CreatedDate", "f"."Division", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Version", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__p_0
LIMIT 1
2025-09-13 20:38:36.336 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Forms"
WHERE "Id" = @p0
RETURNING 1;
2025-09-13 20:38:36.346 -04:00 [INF] Handling Form Deleted event for 1.
2025-09-13 20:38:36.353 -04:00 [WRN] Sending email to admin@example.com from app@example.com with subject Form Deleted using FormDesignerAPI.Infrastructure.Email.MimeKitEmailSender.
2025-09-13 20:38:36.366 -04:00 [INF] Executed endpoint 'HTTP: DELETE /Forms/{FormId:int}'
2025-09-13 20:38:36.367 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.SocketConnectState.OnEndConnect(IAsyncResult ar)
--- End of stack trace from previous location ---
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at FormDesignerAPI.Infrastructure.Email.MimeKitEmailSender.SendEmailAsync(String to, String from, String subject, String body) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Infrastructure/Email/MimeKitEmailSender.cs:line 16
   at FormDesignerAPI.Core.FormAggregate.Handlers.FormDeletedHandler.Handle(FormDeletedEvent domainEvent, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Handlers/FormDeletedHandler.cs:line 12
   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)
   at FormDesignerAPI.Core.Services.FormDeletedService.DeleteFormAsync(Int32 formId) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Core/Services/FormDeletedService.cs:line 26
   at FormDesignerAPI.UseCases.Forms.Delete.DeleteFormHandler.Handle(DeleteFormCommand request, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.UseCases/Forms/Delete/DeleteFormHandler.cs:line 10
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Forms.Delete.HandleAsync(DeleteFormRequest request, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Web/Forms/Delete.cs:line 26
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-13 20:38:36.376 -04:00 [INF] Request finished HTTP/2 DELETE https://localhost:57679/Forms/1 - 500 null text/plain; charset=utf-8 200.9501ms
2025-09-13 20:39:36.602 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms - null null
2025-09-13 20:39:36.603 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-09-13 20:39:36.603 -04:00 [INF] Handling ListFormsQuery
2025-09-13 20:39:36.603 -04:00 [INF] Property Skip : null
2025-09-13 20:39:36.603 -04:00 [INF] Property Take : null
2025-09-13 20:39:36.603 -04:00 [INF] Handling ListFormsQuery
2025-09-13 20:39:36.603 -04:00 [INF] Property Skip : null
2025-09-13 20:39:36.603 -04:00 [INF] Property Take : null
2025-09-13 20:39:36.618 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT Id, FormNumber, FormTitle, Division, Owner_Name AS Owner, Version, CreatedDate, RevisedDate, ConfigurationPath FROM Forms
2025-09-13 20:39:36.619 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 15 ms
2025-09-13 20:39:36.619 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 15 ms
2025-09-13 20:39:36.619 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-09-13 20:39:36.619 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms - 200 null application/json; charset=utf-8 17.4907ms
2025-09-13 20:45:03.758 -04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Forms - application/json 213
2025-09-13 20:45:03.759 -04:00 [INF] Executing endpoint 'HTTP: POST /Forms'
2025-09-13 20:45:03.781 -04:00 [INF] Handling CreateFormCommand
2025-09-13 20:45:03.782 -04:00 [INF] Property FormNumber : FB001
2025-09-13 20:45:03.782 -04:00 [INF] Property FormTitle : FB Form 1
2025-09-13 20:45:03.782 -04:00 [INF] Property Division : IT
2025-09-13 20:45:03.783 -04:00 [INF] Property Owner : {"Name":"Bugs Bunny","Email":"bugs@example.com","$type":"Owner"}
2025-09-13 20:45:03.784 -04:00 [INF] Property Version : 1.0
2025-09-13 20:45:03.784 -04:00 [INF] Property ConfigurationPath : /path/to/config
2025-09-13 20:45:03.784 -04:00 [INF] Handling CreateFormCommand
2025-09-13 20:45:03.785 -04:00 [INF] Property FormNumber : FB001
2025-09-13 20:45:03.785 -04:00 [INF] Property FormTitle : FB Form 1
2025-09-13 20:45:03.785 -04:00 [INF] Property Division : IT
2025-09-13 20:45:03.785 -04:00 [INF] Property Owner : {"Name":"Bugs Bunny","Email":"bugs@example.com","$type":"Owner"}
2025-09-13 20:45:03.785 -04:00 [INF] Property Version : 1.0
2025-09-13 20:45:03.785 -04:00 [INF] Property ConfigurationPath : /path/to/config
2025-09-13 20:45:03.818 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 15), @p1='?' (DbType = DateTime), @p2='?' (Size = 2), @p3='?' (Size = 5), @p4='?' (Size = 9), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (Size = 3), @p8='?' (Size = 16), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Forms" ("ConfigurationPath", "CreatedDate", "Division", "FormNumber", "FormTitle", "RevisedDate", "Status", "Version", "Owner_Email", "Owner_Name")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-09-13 20:45:03.826 -04:00 [INF] Handled CreateFormCommand with Ardalis.Result.Result`1[System.Int32] in 41 ms
2025-09-13 20:45:03.827 -04:00 [INF] Handled CreateFormCommand with Ardalis.Result.Result`1[System.Int32] in 42 ms
2025-09-13 20:45:03.827 -04:00 [INF] Executed endpoint 'HTTP: POST /Forms'
2025-09-13 20:45:03.828 -04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Forms - 200 null application/json; charset=utf-8 70.0718ms
2025-09-13 20:45:43.378 -04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Forms - application/json 224
2025-09-13 20:45:43.383 -04:00 [INF] Executing endpoint 'HTTP: POST /Forms'
2025-09-13 20:45:43.384 -04:00 [INF] Handling CreateFormCommand
2025-09-13 20:45:43.384 -04:00 [INF] Property FormNumber : FB002
2025-09-13 20:45:43.384 -04:00 [INF] Property FormTitle : FB Form 2
2025-09-13 20:45:43.384 -04:00 [INF] Property Division : Procurement
2025-09-13 20:45:43.384 -04:00 [INF] Property Owner : {"Name":"Daffy Duck","Email":"daffys@example.com","$type":"Owner"}
2025-09-13 20:45:43.384 -04:00 [INF] Property Version : 1.0
2025-09-13 20:45:43.384 -04:00 [INF] Property ConfigurationPath : /path/to/config
2025-09-13 20:45:43.385 -04:00 [INF] Handling CreateFormCommand
2025-09-13 20:45:43.385 -04:00 [INF] Property FormNumber : FB002
2025-09-13 20:45:43.385 -04:00 [INF] Property FormTitle : FB Form 2
2025-09-13 20:45:43.385 -04:00 [INF] Property Division : Procurement
2025-09-13 20:45:43.385 -04:00 [INF] Property Owner : {"Name":"Daffy Duck","Email":"daffys@example.com","$type":"Owner"}
2025-09-13 20:45:43.385 -04:00 [INF] Property Version : 1.0
2025-09-13 20:45:43.385 -04:00 [INF] Property ConfigurationPath : /path/to/config
2025-09-13 20:45:43.389 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 15), @p1='?' (DbType = DateTime), @p2='?' (Size = 11), @p3='?' (Size = 5), @p4='?' (Size = 9), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (Size = 3), @p8='?' (Size = 18), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Forms" ("ConfigurationPath", "CreatedDate", "Division", "FormNumber", "FormTitle", "RevisedDate", "Status", "Version", "Owner_Email", "Owner_Name")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-09-13 20:45:43.390 -04:00 [INF] Handled CreateFormCommand with Ardalis.Result.Result`1[System.Int32] in 4 ms
2025-09-13 20:45:43.390 -04:00 [INF] Handled CreateFormCommand with Ardalis.Result.Result`1[System.Int32] in 5 ms
2025-09-13 20:45:43.390 -04:00 [INF] Executed endpoint 'HTTP: POST /Forms'
2025-09-13 20:45:43.390 -04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Forms - 200 null application/json; charset=utf-8 12.1695ms
2025-09-13 20:46:36.338 -04:00 [INF] Request starting HTTP/2 POST https://localhost:57679/Forms - application/json 215
2025-09-13 20:46:36.338 -04:00 [INF] Executing endpoint 'HTTP: POST /Forms'
2025-09-13 20:46:36.344 -04:00 [INF] Handling CreateFormCommand
2025-09-13 20:46:36.344 -04:00 [INF] Property FormNumber : FB003
2025-09-13 20:46:36.344 -04:00 [INF] Property FormTitle : FB Form 3
2025-09-13 20:46:36.344 -04:00 [INF] Property Division : HR
2025-09-13 20:46:36.344 -04:00 [INF] Property Owner : {"Name":"Elmer Fudd","Email":"elmers@example.com","$type":"Owner"}
2025-09-13 20:46:36.344 -04:00 [INF] Property Version : 1.0
2025-09-13 20:46:36.344 -04:00 [INF] Property ConfigurationPath : /path/to/config
2025-09-13 20:46:36.344 -04:00 [INF] Handling CreateFormCommand
2025-09-13 20:46:36.344 -04:00 [INF] Property FormNumber : FB003
2025-09-13 20:46:36.344 -04:00 [INF] Property FormTitle : FB Form 3
2025-09-13 20:46:36.344 -04:00 [INF] Property Division : HR
2025-09-13 20:46:36.344 -04:00 [INF] Property Owner : {"Name":"Elmer Fudd","Email":"elmers@example.com","$type":"Owner"}
2025-09-13 20:46:36.345 -04:00 [INF] Property Version : 1.0
2025-09-13 20:46:36.345 -04:00 [INF] Property ConfigurationPath : /path/to/config
2025-09-13 20:46:36.347 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 15), @p1='?' (DbType = DateTime), @p2='?' (Size = 2), @p3='?' (Size = 5), @p4='?' (Size = 9), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (Size = 3), @p8='?' (Size = 18), @p9='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Forms" ("ConfigurationPath", "CreatedDate", "Division", "FormNumber", "FormTitle", "RevisedDate", "Status", "Version", "Owner_Email", "Owner_Name")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-09-13 20:46:36.348 -04:00 [INF] Handled CreateFormCommand with Ardalis.Result.Result`1[System.Int32] in 3 ms
2025-09-13 20:46:36.348 -04:00 [INF] Handled CreateFormCommand with Ardalis.Result.Result`1[System.Int32] in 3 ms
2025-09-13 20:46:36.348 -04:00 [INF] Executed endpoint 'HTTP: POST /Forms'
2025-09-13 20:46:36.348 -04:00 [INF] Request finished HTTP/2 POST https://localhost:57679/Forms - 200 null application/json; charset=utf-8 10.7802ms
2025-09-13 20:46:44.729 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms - null null
2025-09-13 20:46:44.730 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-09-13 20:46:44.741 -04:00 [INF] Handling ListFormsQuery
2025-09-13 20:46:44.741 -04:00 [INF] Property Skip : null
2025-09-13 20:46:44.741 -04:00 [INF] Property Take : null
2025-09-13 20:46:44.741 -04:00 [INF] Handling ListFormsQuery
2025-09-13 20:46:44.741 -04:00 [INF] Property Skip : null
2025-09-13 20:46:44.741 -04:00 [INF] Property Take : null
2025-09-13 20:46:44.743 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT Id, FormNumber, FormTitle, Division, Owner_Name AS Owner, Version, CreatedDate, RevisedDate, ConfigurationPath FROM Forms
2025-09-13 20:46:44.743 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 1 ms
2025-09-13 20:46:44.743 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 1 ms
2025-09-13 20:46:44.743 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-09-13 20:46:44.744 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms - 200 null application/json; charset=utf-8 14.254ms
2025-09-13 20:47:01.738 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms/3 - null null
2025-09-13 20:47:01.739 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 20:47:01.744 -04:00 [INF] Handling GetFormQuery
2025-09-13 20:47:01.744 -04:00 [INF] Property FormId : 3
2025-09-13 20:47:01.744 -04:00 [INF] Handling GetFormQuery
2025-09-13 20:47:01.744 -04:00 [INF] Property FormId : 3
2025-09-13 20:47:01.764 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__FormId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."ConfigurationPath", "f"."CreatedDate", "f"."Division", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Version", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__FormId_0
LIMIT 1
2025-09-13 20:47:01.767 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 22 ms
2025-09-13 20:47:01.767 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 22 ms
2025-09-13 20:47:01.768 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 20:47:01.768 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms/3 - 200 null application/json; charset=utf-8 30.8578ms
2025-09-13 20:48:23.788 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/2 - application/json 30
2025-09-13 20:48:23.790 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:48:23.806 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:48:23.806 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/2 - 400 null application/problem+json; charset=utf-8 17.7579ms
2025-09-13 20:49:24.295 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/4 - application/json 222
2025-09-13 20:49:24.296 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:49:24.301 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:49:24.301 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/4 - 400 null application/problem+json; charset=utf-8 6.7264ms
2025-09-13 20:49:52.106 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms - null null
2025-09-13 20:49:52.106 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-09-13 20:49:52.106 -04:00 [INF] Handling ListFormsQuery
2025-09-13 20:49:52.106 -04:00 [INF] Property Skip : null
2025-09-13 20:49:52.106 -04:00 [INF] Property Take : null
2025-09-13 20:49:52.107 -04:00 [INF] Handling ListFormsQuery
2025-09-13 20:49:52.107 -04:00 [INF] Property Skip : null
2025-09-13 20:49:52.107 -04:00 [INF] Property Take : null
2025-09-13 20:49:52.108 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT Id, FormNumber, FormTitle, Division, Owner_Name AS Owner, Version, CreatedDate, RevisedDate, ConfigurationPath FROM Forms
2025-09-13 20:49:52.108 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 1 ms
2025-09-13 20:49:52.108 -04:00 [INF] Handled ListFormsQuery with Ardalis.Result.Result`1[System.Collections.Generic.IEnumerable`1[FormDesignerAPI.UseCases.Forms.FormDTO]] in 1 ms
2025-09-13 20:49:52.109 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-09-13 20:49:52.109 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms - 200 null application/json; charset=utf-8 3.0135ms
2025-09-13 20:50:52.119 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/4 - application/json 169
2025-09-13 20:50:52.120 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:50:52.126 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:50:52.126 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/4 - 400 null application/problem+json; charset=utf-8 7.9394ms
2025-09-13 20:51:57.984 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/4 - application/json 183
2025-09-13 20:51:57.986 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:51:57.990 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:51:57.990 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/4 - 400 null application/problem+json; charset=utf-8 6.3131ms
2025-09-13 20:52:35.083 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/4 - application/json 184
2025-09-13 20:52:35.084 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:52:35.085 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:52:35.086 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/4 - 400 null application/problem+json; charset=utf-8 2.7645ms
2025-09-13 20:53:22.013 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/4 - application/json 203
2025-09-13 20:53:22.014 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:53:22.015 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:53:22.015 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/4 - 400 null application/problem+json; charset=utf-8 2.1824ms
2025-09-13 20:54:03.942 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/4 - application/json 187
2025-09-13 20:54:03.943 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:54:03.945 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:54:03.946 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/4 - 400 null application/problem+json; charset=utf-8 3.3367ms
2025-09-13 20:57:49.555 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms/4 - null null
2025-09-13 20:57:49.556 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 20:57:49.556 -04:00 [INF] Handling GetFormQuery
2025-09-13 20:57:49.556 -04:00 [INF] Property FormId : 4
2025-09-13 20:57:49.556 -04:00 [INF] Handling GetFormQuery
2025-09-13 20:57:49.556 -04:00 [INF] Property FormId : 4
2025-09-13 20:57:49.561 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__FormId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."ConfigurationPath", "f"."CreatedDate", "f"."Division", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Version", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__FormId_0
LIMIT 1
2025-09-13 20:57:49.561 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 4 ms
2025-09-13 20:57:49.561 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 4 ms
2025-09-13 20:57:49.561 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 20:57:49.561 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms/4 - 200 null application/json; charset=utf-8 5.6963ms
2025-09-13 20:58:27.846 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/4 - application/json 198
2025-09-13 20:58:27.847 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:58:27.850 -04:00 [INF] Handling UpdateFormCommand
2025-09-13 20:58:27.851 -04:00 [INF] Property FormId : 4
2025-09-13 20:58:27.851 -04:00 [INF] Property newFormNumber : FBA0003
2025-09-13 20:58:27.851 -04:00 [INF] Property newFormTitle : FB Form 3
2025-09-13 20:58:27.851 -04:00 [INF] Property newDivision : HR
2025-09-13 20:58:27.851 -04:00 [INF] Property newOwner : Elmer Fudd
2025-09-13 20:58:27.851 -04:00 [INF] Property newVersion : 1.1
2025-09-13 20:58:27.851 -04:00 [INF] Property RevisedDate : "2025-09-14T00:58:27.8472740Z"
2025-09-13 20:58:27.851 -04:00 [INF] Property newConfigurationPath : /path/to/config2
2025-09-13 20:58:27.851 -04:00 [INF] Handling UpdateFormCommand
2025-09-13 20:58:27.851 -04:00 [INF] Property FormId : 4
2025-09-13 20:58:27.851 -04:00 [INF] Property newFormNumber : FBA0003
2025-09-13 20:58:27.851 -04:00 [INF] Property newFormTitle : FB Form 3
2025-09-13 20:58:27.851 -04:00 [INF] Property newDivision : HR
2025-09-13 20:58:27.851 -04:00 [INF] Property newOwner : Elmer Fudd
2025-09-13 20:58:27.851 -04:00 [INF] Property newVersion : 1.1
2025-09-13 20:58:27.851 -04:00 [INF] Property RevisedDate : "2025-09-14T00:58:27.8472740Z"
2025-09-13 20:58:27.852 -04:00 [INF] Property newConfigurationPath : /path/to/config2
2025-09-13 20:58:27.853 -04:00 [INF] Updating Form 4
2025-09-13 20:58:27.854 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."ConfigurationPath", "f"."CreatedDate", "f"."Division", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Version", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__p_0
LIMIT 1
2025-09-13 20:58:27.858 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 16), @p1='?' (DbType = DateTime), @p2='?' (Size = 2), @p3='?' (Size = 7), @p4='?' (Size = 9), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (Size = 3), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Forms" SET "ConfigurationPath" = @p0, "CreatedDate" = @p1, "Division" = @p2, "FormNumber" = @p3, "FormTitle" = @p4, "RevisedDate" = @p5, "Status" = @p6, "Version" = @p7, "Owner_Email" = @p8
WHERE "Id" = @p9
RETURNING 1;
2025-09-13 20:58:27.860 -04:00 [INF] Handling Form Updated event for 4.
2025-09-13 20:58:27.860 -04:00 [WRN] Sending email to admin@example.com from app@example.com with subject Form Updated using FormDesignerAPI.Infrastructure.Email.MimeKitEmailSender.
2025-09-13 20:58:27.862 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 20:58:27.862 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.SocketConnectState.OnEndConnect(IAsyncResult ar)
--- End of stack trace from previous location ---
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at FormDesignerAPI.Infrastructure.Email.MimeKitEmailSender.SendEmailAsync(String to, String from, String subject, String body) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Infrastructure/Email/MimeKitEmailSender.cs:line 16
   at FormDesignerAPI.Core.FormAggregate.Handlers.FormUpdatedHandler.Handle(FormUpdatedEvent domainEvent, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Handlers/FormUpdatedHandler.cs:line 12
   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)
   at FormDesignerAPI.Core.Services.FormUpdateService.UpdateFormAsync(Int32 formId, FormUpdateDto formUpdateDto, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Core/Services/FormUpdateService.cs:line 29
   at FormDesignerAPI.UseCases.Forms.Update.UpdateFormHandler.Handle(UpdateFormCommand request, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.UseCases/Forms/Update/UpdateFormHandler.cs:line 24
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Forms.Update.HandleAsync(UpdateFormRequest request, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Web/Forms/Update.cs:line 35
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-13 20:58:27.864 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/4 - 500 null text/plain; charset=utf-8 17.8516ms
2025-09-13 20:59:10.991 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-09-13 20:59:10.993 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 3.1341ms
2025-09-13 20:59:11.072 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-09-13 20:59:11.075 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 2.779ms
2025-09-13 21:00:01.854 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms/4 - null null
2025-09-13 21:00:01.855 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 21:00:01.858 -04:00 [INF] Handling GetFormQuery
2025-09-13 21:00:01.858 -04:00 [INF] Property FormId : 4
2025-09-13 21:00:01.858 -04:00 [INF] Handling GetFormQuery
2025-09-13 21:00:01.858 -04:00 [INF] Property FormId : 4
2025-09-13 21:00:01.860 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__FormId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."ConfigurationPath", "f"."CreatedDate", "f"."Division", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Version", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__FormId_0
LIMIT 1
2025-09-13 21:00:01.860 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 1 ms
2025-09-13 21:00:01.860 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 1 ms
2025-09-13 21:00:01.860 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 21:00:01.860 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms/4 - 200 null application/json; charset=utf-8 6.4718ms
2025-09-13 21:00:33.360 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms/3 - null null
2025-09-13 21:00:33.361 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 21:00:33.361 -04:00 [INF] Handling GetFormQuery
2025-09-13 21:00:33.361 -04:00 [INF] Property FormId : 3
2025-09-13 21:00:33.361 -04:00 [INF] Handling GetFormQuery
2025-09-13 21:00:33.361 -04:00 [INF] Property FormId : 3
2025-09-13 21:00:33.363 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__FormId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."ConfigurationPath", "f"."CreatedDate", "f"."Division", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Version", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__FormId_0
LIMIT 1
2025-09-13 21:00:33.363 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 2 ms
2025-09-13 21:00:33.363 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 2 ms
2025-09-13 21:00:33.364 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 21:00:33.364 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms/3 - 200 null application/json; charset=utf-8 4.0565ms
2025-09-13 21:01:55.535 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/3 - application/json 496
2025-09-13 21:01:55.536 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 21:01:55.542 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 21:01:55.542 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/3 - 400 null application/problem+json; charset=utf-8 7.0756ms
2025-09-13 21:02:11.955 -04:00 [INF] Request starting HTTP/2 PUT https://localhost:57679/Forms/3 - application/json 262
2025-09-13 21:02:11.956 -04:00 [INF] Executing endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 21:02:11.957 -04:00 [INF] Handling UpdateFormCommand
2025-09-13 21:02:11.957 -04:00 [INF] Property FormId : 3
2025-09-13 21:02:11.957 -04:00 [INF] Property newFormNumber : FBA0002
2025-09-13 21:02:11.957 -04:00 [INF] Property newFormTitle : FBA Form 2_Revised
2025-09-13 21:02:11.957 -04:00 [INF] Property newDivision : Procurement
2025-09-13 21:02:11.957 -04:00 [INF] Property newOwner : Daffy Duck
2025-09-13 21:02:11.957 -04:00 [INF] Property newVersion : 1.5
2025-09-13 21:02:11.957 -04:00 [INF] Property RevisedDate : "2025-09-14T00:45:43.3861330"
2025-09-13 21:02:11.957 -04:00 [INF] Property newConfigurationPath : /path/to/config
2025-09-13 21:02:11.957 -04:00 [INF] Handling UpdateFormCommand
2025-09-13 21:02:11.957 -04:00 [INF] Property FormId : 3
2025-09-13 21:02:11.957 -04:00 [INF] Property newFormNumber : FBA0002
2025-09-13 21:02:11.957 -04:00 [INF] Property newFormTitle : FBA Form 2_Revised
2025-09-13 21:02:11.957 -04:00 [INF] Property newDivision : Procurement
2025-09-13 21:02:11.957 -04:00 [INF] Property newOwner : Daffy Duck
2025-09-13 21:02:11.957 -04:00 [INF] Property newVersion : 1.5
2025-09-13 21:02:11.957 -04:00 [INF] Property RevisedDate : "2025-09-14T00:45:43.3861330"
2025-09-13 21:02:11.958 -04:00 [INF] Property newConfigurationPath : /path/to/config
2025-09-13 21:02:11.958 -04:00 [INF] Updating Form 3
2025-09-13 21:02:11.959 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."ConfigurationPath", "f"."CreatedDate", "f"."Division", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Version", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__p_0
LIMIT 1
2025-09-13 21:02:11.960 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 15), @p1='?' (DbType = DateTime), @p2='?' (Size = 11), @p3='?' (Size = 7), @p4='?' (Size = 18), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (Size = 3), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Forms" SET "ConfigurationPath" = @p0, "CreatedDate" = @p1, "Division" = @p2, "FormNumber" = @p3, "FormTitle" = @p4, "RevisedDate" = @p5, "Status" = @p6, "Version" = @p7, "Owner_Email" = @p8
WHERE "Id" = @p9
RETURNING 1;
2025-09-13 21:02:11.960 -04:00 [INF] Handling Form Updated event for 3.
2025-09-13 21:02:11.960 -04:00 [WRN] Sending email to admin@example.com from app@example.com with subject Form Updated using FormDesignerAPI.Infrastructure.Email.MimeKitEmailSender.
2025-09-13 21:02:11.965 -04:00 [INF] Executed endpoint 'HTTP: PUT /Forms/{FormId:Int}'
2025-09-13 21:02:11.965 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.SocketConnectState.OnEndConnect(IAsyncResult ar)
--- End of stack trace from previous location ---
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at FormDesignerAPI.Infrastructure.Email.MimeKitEmailSender.SendEmailAsync(String to, String from, String subject, String body) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Infrastructure/Email/MimeKitEmailSender.cs:line 16
   at FormDesignerAPI.Core.FormAggregate.Handlers.FormUpdatedHandler.Handle(FormUpdatedEvent domainEvent, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Handlers/FormUpdatedHandler.cs:line 12
   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)
   at FormDesignerAPI.Core.Services.FormUpdateService.UpdateFormAsync(Int32 formId, FormUpdateDto formUpdateDto, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Core/Services/FormUpdateService.cs:line 29
   at FormDesignerAPI.UseCases.Forms.Update.UpdateFormHandler.Handle(UpdateFormCommand request, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.UseCases/Forms/Update/UpdateFormHandler.cs:line 24
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Forms.Update.HandleAsync(UpdateFormRequest request, CancellationToken cancellationToken) in /Users/petercarroll/Development/MyProjects/Advanced_Form_Designer/FormDesigner/src/FormDesignerAPI.Web/Forms/Update.cs:line 35
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-13 21:02:11.966 -04:00 [INF] Request finished HTTP/2 PUT https://localhost:57679/Forms/3 - 500 null text/plain; charset=utf-8 10.529ms
2025-09-13 21:02:22.202 -04:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms/3 - null null
2025-09-13 21:02:22.202 -04:00 [INF] Executing endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 21:02:22.203 -04:00 [INF] Handling GetFormQuery
2025-09-13 21:02:22.203 -04:00 [INF] Property FormId : 3
2025-09-13 21:02:22.203 -04:00 [INF] Handling GetFormQuery
2025-09-13 21:02:22.203 -04:00 [INF] Property FormId : 3
2025-09-13 21:02:22.203 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__FormId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."ConfigurationPath", "f"."CreatedDate", "f"."Division", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Version", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__FormId_0
LIMIT 1
2025-09-13 21:02:22.204 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 1 ms
2025-09-13 21:02:22.204 -04:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 1 ms
2025-09-13 21:02:22.204 -04:00 [INF] Executed endpoint 'HTTP: GET /Forms/{FormId:int}'
2025-09-13 21:02:22.204 -04:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms/3 - 200 null application/json; charset=utf-8 2.7751ms
2025-09-13 21:47:26.705 -04:00 [INF] Application is shutting down...
