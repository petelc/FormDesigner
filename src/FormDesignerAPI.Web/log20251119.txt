2025-11-19 18:32:28.014 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 18:32:28.033 -05:00 [INF] Registered 21 endpoints in 156 milliseconds.
2025-11-19 18:32:28.227 -05:00 [ERR] An error occurred seeding the DB. Exception has been thrown by the target of an invocation.
System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.ArgumentException: The expression 'f => f.GetCurrentVersion()' is not a valid member access expression. The expression should represent a simple property or field access: 't => t.MyProperty'. (Parameter 'memberAccessExpression')
   at Microsoft.EntityFrameworkCore.Infrastructure.ExpressionExtensions.GetInternalMemberAccess[TMemberInfo](LambdaExpression memberAccessExpression)
   at Microsoft.EntityFrameworkCore.Infrastructure.ExpressionExtensions.GetMemberAccess(LambdaExpression memberAccessExpression)
   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.Property[TProperty](Expression`1 propertyExpression)
   at FormDesignerAPI.Infrastructure.Data.Config.FormConfiguration.Configure(EntityTypeBuilder`1 builder) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/Config/FormConfiguration.cs:line 32
   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfiguration[TEntity](IEntityTypeConfiguration`1 configuration)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfigurationsFromAssembly(Assembly assembly, Func`2 predicate)
   at FormDesignerAPI.Infrastructure.Data.AppDbContext.OnModelCreating(ModelBuilder modelBuilder) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/AppDbContext.cs:line 24
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, ModelDependencies modelDependencies)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService(IInfrastructure`1 accessor, Type serviceType)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreatedAsync(CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Configurations/MiddlewareConfig.cs:line 23
2025-11-19 18:32:28.443 -05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-11-19 18:32:28.450 -05:00 [INF] Now listening on: https://localhost:64753
2025-11-19 18:32:28.450 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 18:32:28.450 -05:00 [INF] Hosting environment: Development
2025-11-19 18:32:28.450 -05:00 [INF] Content root path: /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web
2025-11-19 18:49:53.238 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 18:49:53.254 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 18:52:57.965 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 18:52:57.979 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 18:56:23.049 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 18:56:23.072 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 18:56:23.075 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-19 23:56:23.074323+00:00');
SELECT changes();
2025-11-19 18:56:23.097 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 18:56:23.099 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 18:56:23.100 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 18:56:23.104 -05:00 [INF] Applying migration '20251119235500_NewFormMigration'.
2025-11-19 18:56:23.114 -05:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'NewFormMigration' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-11-19 18:56:23.114 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Forms" ADD "FormId" TEXT NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-11-19 18:56:23.114 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Forms" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Forms" PRIMARY KEY,
    "CreatedDate" TEXT NULL,
    "Division" TEXT NULL,
    "FormId" TEXT NOT NULL,
    "FormNumber" TEXT NOT NULL,
    "FormTitle" TEXT NOT NULL,
    "Owner_Email" TEXT NULL,
    "Owner_Name" TEXT NULL,
    "RevisedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4
);
2025-11-19 18:56:23.114 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Forms" ("Id", "CreatedDate", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status")
SELECT "Id", "CreatedDate", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status"
FROM "Forms";
2025-11-19 18:56:23.115 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-11-19 18:56:23.115 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Forms";
2025-11-19 18:56:23.115 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Forms" RENAME TO "Forms";
2025-11-19 18:56:23.115 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-11-19 18:56:23.116 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251119235500_NewFormMigration', '9.0.6');
2025-11-19 18:56:23.116 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 19:01:28.524 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 19:01:28.541 -05:00 [INF] Registered 21 endpoints in 149 milliseconds.
2025-11-19 19:01:28.837 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 19:01:28.943 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 19:01:29.183 -05:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert
2025-11-19 19:01:29.189 -05:00 [INF] Now listening on: https://localhost:53328
2025-11-19 19:01:29.189 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 19:01:29.189 -05:00 [INF] Hosting environment: Development
2025-11-19 19:01:29.189 -05:00 [INF] Content root path: /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web
2025-11-19 19:06:47.512 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 19:06:47.529 -05:00 [INF] Registered 21 endpoints in 151 milliseconds.
2025-11-19 19:06:47.823 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 19:06:47.930 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 19:06:48.157 -05:00 [INF] Now listening on: https://localhost:54471
2025-11-19 19:06:48.157 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 19:06:48.157 -05:00 [INF] Hosting environment: Development
2025-11-19 19:06:48.157 -05:00 [INF] Content root path: /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web
2025-11-19 19:07:00.098 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger - null null
2025-11-19 19:07:00.125 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-11-19 19:07:00.124 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger - 302 0 null 29.369ms
2025-11-19 19:07:00.161 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 35.4174ms
2025-11-19 19:07:00.168 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/swagger-ui.css - null null
2025-11-19 19:07:00.168 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/swagger-ui-standalone-preset.js - null null
2025-11-19 19:07:00.168 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/swagger-ui-bundle.js - null null
2025-11-19 19:07:00.168 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.css - null null
2025-11-19 19:07:00.171 -05:00 [INF] The file /swagger-ui.css was not modified
2025-11-19 19:07:00.171 -05:00 [INF] The file /swagger-ui-bundle.js was not modified
2025-11-19 19:07:00.171 -05:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2025-11-19 19:07:00.171 -05:00 [INF] The file /index.css was not modified
2025-11-19 19:07:00.171 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/swagger-ui-bundle.js - 304 null text/javascript 2.868ms
2025-11-19 19:07:00.171 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.css - 304 null text/css 2.8922ms
2025-11-19 19:07:00.171 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 2.8937ms
2025-11-19 19:07:00.171 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/swagger-ui.css - 304 null text/css 2.9632ms
2025-11-19 19:07:00.262 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-11-19 19:07:00.265 -05:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-11-19 19:07:00.266 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/favicon-32x32.png - null null
2025-11-19 19:07:00.266 -05:00 [INF] The file /favicon-32x32.png was not modified
2025-11-19 19:07:00.266 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/favicon-32x32.png - 304 null image/png 0.2786ms
2025-11-19 19:07:00.499 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 236.7202ms
2025-11-19 19:07:06.196 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms - null null
2025-11-19 19:07:06.199 -05:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-11-19 19:07:06.215 -05:00 [INF] Handling ListFormsQuery
2025-11-19 19:07:06.216 -05:00 [INF] Property Skip : null
2025-11-19 19:07:06.216 -05:00 [INF] Property Take : null
2025-11-19 19:07:06.216 -05:00 [INF] Handling ListFormsQuery
2025-11-19 19:07:06.216 -05:00 [INF] Property Skip : null
2025-11-19 19:07:06.216 -05:00 [INF] Property Take : null
2025-11-19 19:07:06.231 -05:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-11-19 19:07:06.232 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'FormDTO'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'Version' in 'FormDTO(Guid Id, string FormNumber, string FormTitle, string Division, string Owner, Version Version, DateTime CreatedDate, DateTime RevisedDate)'
    Cannot bind 'original' in 'FormDTO(FormDTO original)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Metadata.AdHocMapper.AddEntityType(Type clrType)
   at Microsoft.EntityFrameworkCore.Metadata.AdHocMapper.GetOrAddEntityType(Type clrType)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQueryRaw[TResult](DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQuery[TResult](DatabaseFacade databaseFacade, FormattableString sql)
   at FormDesignerAPI.Infrastructure.Data.Queries.ListFormsQueryService.ListFormsAsync() in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/Queries/ListFormsQueryService.cs:line 10
   at FormDesignerAPI.UseCases.Forms.List.ListFormsQueryHandler.Handle(ListFormsQuery request, CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.UseCases/Forms/List/ListFormsQueryHandler.cs:line 10
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Forms.List.HandleAsync(CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Forms/List.cs:line 23
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-19 19:07:06.241 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms - 500 null text/plain; charset=utf-8 44.9127ms
2025-11-19 19:08:18.238 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms/3 - null null
2025-11-19 19:08:18.239 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms/3 - 404 0 null 1.5555ms
2025-11-19 19:08:18.240 -05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/Forms/3, Response status code: 404
2025-11-19 19:12:11.786 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms/85556d14-1003-48d5-8f65-a2e3a191d71a - null null
2025-11-19 19:12:11.787 -05:00 [INF] Executing endpoint 'HTTP: GET /Forms/{FormId:Guid}'
2025-11-19 19:12:11.808 -05:00 [INF] Handling GetFormQuery
2025-11-19 19:12:11.808 -05:00 [INF] Property FormId : "85556d14-1003-48d5-8f65-a2e3a191d71a"
2025-11-19 19:12:11.808 -05:00 [INF] Handling GetFormQuery
2025-11-19 19:12:11.809 -05:00 [INF] Property FormId : "85556d14-1003-48d5-8f65-a2e3a191d71a"
2025-11-19 19:12:11.888 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FormId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."CreatedDate", "f"."Division", "f"."FormId", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__FormId_0
LIMIT 1
2025-11-19 19:12:11.889 -05:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 80 ms
2025-11-19 19:12:11.889 -05:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 80 ms
2025-11-19 19:12:11.890 -05:00 [INF] Executed endpoint 'HTTP: GET /Forms/{FormId:Guid}'
2025-11-19 19:12:11.890 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms/85556d14-1003-48d5-8f65-a2e3a191d71a - 404 null null 104.6012ms
2025-11-19 19:13:07.386 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms - null null
2025-11-19 19:13:07.387 -05:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-11-19 19:13:07.387 -05:00 [INF] Handling ListFormsQuery
2025-11-19 19:13:07.387 -05:00 [INF] Property Skip : null
2025-11-19 19:13:07.387 -05:00 [INF] Property Take : null
2025-11-19 19:13:07.387 -05:00 [INF] Handling ListFormsQuery
2025-11-19 19:13:07.387 -05:00 [INF] Property Skip : null
2025-11-19 19:13:07.388 -05:00 [INF] Property Take : null
2025-11-19 19:13:07.397 -05:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-11-19 19:13:07.397 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'FormDTO'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'Version' in 'FormDTO(Guid Id, string FormNumber, string FormTitle, string Division, string Owner, Version Version, DateTime CreatedDate, DateTime RevisedDate)'
    Cannot bind 'original' in 'FormDTO(FormDTO original)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Metadata.AdHocMapper.AddEntityType(Type clrType)
   at Microsoft.EntityFrameworkCore.Metadata.AdHocMapper.GetOrAddEntityType(Type clrType)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQueryRaw[TResult](DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQuery[TResult](DatabaseFacade databaseFacade, FormattableString sql)
   at FormDesignerAPI.Infrastructure.Data.Queries.ListFormsQueryService.ListFormsAsync() in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/Queries/ListFormsQueryService.cs:line 10
   at FormDesignerAPI.UseCases.Forms.List.ListFormsQueryHandler.Handle(ListFormsQuery request, CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.UseCases/Forms/List/ListFormsQueryHandler.cs:line 10
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Forms.List.HandleAsync(CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Forms/List.cs:line 23
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-19 19:13:07.398 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms - 500 null text/plain; charset=utf-8 11.8538ms
2025-11-19 19:44:56.054 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 19:44:56.068 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 19:46:08.495 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 19:46:08.517 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 19:46:08.520 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 00:46:08.519729+00:00');
SELECT changes();
2025-11-19 19:46:08.541 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 19:46:08.544 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 19:46:08.545 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 19:46:08.548 -05:00 [INF] Applying migration '20251120004557_VersionConstructorFix'.
2025-11-19 19:46:08.562 -05:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'VersionConstructorFix' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-11-19 19:46:08.562 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Forms" ADD "CurrentVersionId" TEXT NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-11-19 19:46:08.562 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FormDefinition" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_FormDefinition" PRIMARY KEY,
    "FormDefinitionId" TEXT NOT NULL,
    "ConfigurationPath" TEXT NOT NULL
);
2025-11-19 19:46:08.562 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Version" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Version" PRIMARY KEY,
    "VersionId" TEXT NOT NULL,
    "Major" INTEGER NOT NULL,
    "Minor" INTEGER NOT NULL,
    "Patch" INTEGER NOT NULL,
    "VersionDate" TEXT NOT NULL,
    "ReleasedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4,
    "FormId" TEXT NOT NULL,
    CONSTRAINT "FK_Version_FormDefinition_VersionId" FOREIGN KEY ("VersionId") REFERENCES "FormDefinition" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Version_Forms_FormId" FOREIGN KEY ("FormId") REFERENCES "Forms" ("Id") ON DELETE CASCADE
);
2025-11-19 19:46:08.564 -05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Forms_CurrentVersionId" ON "Forms" ("CurrentVersionId");
2025-11-19 19:46:49.516 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 19:46:49.540 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 19:46:49.543 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 00:46:49.542302+00:00');
SELECT changes();
2025-11-19 19:46:49.565 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 19:46:49.567 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 19:46:49.568 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 19:46:49.572 -05:00 [INF] Applying migration '20251120004557_VersionConstructorFix'.
2025-11-19 19:46:49.585 -05:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'VersionConstructorFix' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-11-19 19:46:49.586 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Forms" ADD "CurrentVersionId" TEXT NULL;
2025-11-19 19:46:49.586 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FormDefinition" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_FormDefinition" PRIMARY KEY,
    "FormDefinitionId" TEXT NOT NULL,
    "ConfigurationPath" TEXT NOT NULL
);
2025-11-19 19:46:49.586 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Version" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Version" PRIMARY KEY,
    "VersionId" TEXT NOT NULL,
    "Major" INTEGER NOT NULL,
    "Minor" INTEGER NOT NULL,
    "Patch" INTEGER NOT NULL,
    "VersionDate" TEXT NOT NULL,
    "ReleasedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4,
    "FormId" TEXT NOT NULL,
    CONSTRAINT "FK_Version_FormDefinition_VersionId" FOREIGN KEY ("VersionId") REFERENCES "FormDefinition" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Version_Forms_FormId" FOREIGN KEY ("FormId") REFERENCES "Forms" ("Id") ON DELETE CASCADE
);
2025-11-19 19:46:49.586 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Forms_CurrentVersionId" ON "Forms" ("CurrentVersionId");
2025-11-19 19:46:49.586 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Version_FormId" ON "Version" ("FormId");
2025-11-19 19:46:49.586 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Version_VersionId" ON "Version" ("VersionId");
2025-11-19 19:46:49.586 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Forms" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Forms" PRIMARY KEY,
    "CreatedDate" TEXT NULL,
    "CurrentVersionId" TEXT NOT NULL,
    "Division" TEXT NULL,
    "FormId" TEXT NOT NULL,
    "FormNumber" TEXT NOT NULL,
    "FormTitle" TEXT NOT NULL,
    "Owner_Email" TEXT NULL,
    "Owner_Name" TEXT NULL,
    "RevisedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4,
    CONSTRAINT "FK_Forms_Version_CurrentVersionId" FOREIGN KEY ("CurrentVersionId") REFERENCES "Version" ("Id") ON DELETE CASCADE
);
2025-11-19 19:46:49.587 -05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Forms" ("Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status")
SELECT "Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status"
FROM "Forms";
2025-11-19 19:47:01.271 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 19:47:01.286 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 19:47:26.747 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 19:47:26.770 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 19:47:26.773 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 00:47:26.772692+00:00');
SELECT changes();
2025-11-19 19:47:26.796 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 19:47:26.798 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 19:47:26.799 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 19:47:26.803 -05:00 [INF] Applying migration '20251120004711_VersionConstructorFix'.
2025-11-19 19:47:26.817 -05:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'VersionConstructorFix' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-11-19 19:47:26.817 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Forms" ADD "CurrentVersionId" TEXT NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-11-19 19:47:26.818 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FormDefinition" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_FormDefinition" PRIMARY KEY,
    "FormDefinitionId" TEXT NOT NULL,
    "ConfigurationPath" TEXT NOT NULL
);
2025-11-19 19:47:26.818 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Version" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Version" PRIMARY KEY,
    "VersionId" TEXT NOT NULL,
    "Major" INTEGER NOT NULL,
    "Minor" INTEGER NOT NULL,
    "Patch" INTEGER NOT NULL,
    "VersionDate" TEXT NOT NULL,
    "ReleasedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4,
    "FormId" TEXT NOT NULL,
    CONSTRAINT "FK_Version_FormDefinition_VersionId" FOREIGN KEY ("VersionId") REFERENCES "FormDefinition" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Version_Forms_FormId" FOREIGN KEY ("FormId") REFERENCES "Forms" ("Id") ON DELETE CASCADE
);
2025-11-19 19:47:26.819 -05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Forms_CurrentVersionId" ON "Forms" ("CurrentVersionId");
2025-11-19 19:48:02.251 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-11-19 19:48:02.263 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 19:48:02.266 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 19:48:02.267 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsLock" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK___EFMigrationsLock" PRIMARY KEY,
    "Timestamp" TEXT NOT NULL
);
2025-11-19 19:48:02.267 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 00:48:02.267196+00:00');
SELECT changes();
2025-11-19 19:48:02.288 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 19:48:02.291 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 19:48:02.292 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 19:48:02.295 -05:00 [INF] Applying migration '20231218143922_PhoneNumber'.
2025-11-19 19:48:02.298 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Contributors" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Contributors" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "PhoneNumber_CountryCode" TEXT NULL,
    "PhoneNumber_Number" TEXT NULL,
    "PhoneNumber_Extension" TEXT NULL
);
2025-11-19 19:48:02.298 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231218143922_PhoneNumber', '9.0.6');
2025-11-19 19:48:02.298 -05:00 [INF] Applying migration '20250907140034_InitialMigration'.
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetRoles" PRIMARY KEY,
    "Name" TEXT NULL,
    "NormalizedName" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL
);
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_AspNetUsers" PRIMARY KEY,
    "UserName" TEXT NULL,
    "NormalizedUserName" TEXT NULL,
    "Email" TEXT NULL,
    "NormalizedEmail" TEXT NULL,
    "EmailConfirmed" INTEGER NOT NULL,
    "PasswordHash" TEXT NULL,
    "SecurityStamp" TEXT NULL,
    "ConcurrencyStamp" TEXT NULL,
    "PhoneNumber" TEXT NULL,
    "PhoneNumberConfirmed" INTEGER NOT NULL,
    "TwoFactorEnabled" INTEGER NOT NULL,
    "LockoutEnd" TEXT NULL,
    "LockoutEnabled" INTEGER NOT NULL,
    "AccessFailedCount" INTEGER NOT NULL
);
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Forms" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Forms" PRIMARY KEY AUTOINCREMENT,
    "FormNumber" TEXT NOT NULL,
    "FormTitle" TEXT NOT NULL,
    "Division" TEXT NULL,
    "Owner_Name" TEXT NULL,
    "Owner_Email" TEXT NULL,
    "Version" TEXT NULL,
    "CreatedDate" TEXT NOT NULL,
    "RevisedDate" TEXT NOT NULL,
    "ConfigurationPath" TEXT NULL,
    "Status" INTEGER NOT NULL
);
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY AUTOINCREMENT,
    "RoleId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY AUTOINCREMENT,
    "UserId" TEXT NOT NULL,
    "ClaimType" TEXT NULL,
    "ClaimValue" TEXT NULL,
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" TEXT NOT NULL,
    "ProviderKey" TEXT NOT NULL,
    "ProviderDisplayName" TEXT NULL,
    "UserId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" TEXT NOT NULL,
    "RoleId" TEXT NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" TEXT NOT NULL,
    "LoginProvider" TEXT NOT NULL,
    "Name" TEXT NOT NULL,
    "Value" TEXT NULL,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-11-19 19:48:02.307 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250907140034_InitialMigration', '9.0.6');
2025-11-19 19:48:02.307 -05:00 [INF] Applying migration '20250908083441_FormMigration'.
2025-11-19 19:48:02.310 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250908083441_FormMigration', '9.0.6');
2025-11-19 19:48:02.310 -05:00 [INF] Applying migration '20250915235043_SecondMigration'.
2025-11-19 19:48:02.317 -05:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'SecondMigration' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-11-19 19:48:02.317 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Forms" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Forms" PRIMARY KEY AUTOINCREMENT,
    "ConfigurationPath" TEXT NULL,
    "CreatedDate" TEXT NULL,
    "Division" TEXT NULL,
    "FormNumber" TEXT NOT NULL,
    "FormTitle" TEXT NOT NULL,
    "Owner_Email" TEXT NULL,
    "Owner_Name" TEXT NULL,
    "RevisedDate" TEXT NULL,
    "Status" INTEGER NOT NULL,
    "Version" TEXT NULL
);
2025-11-19 19:48:02.317 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Forms" ("Id", "ConfigurationPath", "CreatedDate", "Division", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status", "Version")
SELECT "Id", "ConfigurationPath", "CreatedDate", "Division", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status", "Version"
FROM "Forms";
2025-11-19 19:48:02.318 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-11-19 19:48:02.318 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Forms";
2025-11-19 19:48:02.318 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Forms" RENAME TO "Forms";
2025-11-19 19:48:02.319 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-11-19 19:48:02.319 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250915235043_SecondMigration', '9.0.6');
2025-11-19 19:48:02.319 -05:00 [INF] Applying migration '20251004130050_AddUserDetails'.
2025-11-19 19:48:02.323 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "Division" TEXT NULL;
2025-11-19 19:48:02.323 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "FirstName" TEXT NULL;
2025-11-19 19:48:02.323 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "JobTitle" TEXT NULL;
2025-11-19 19:48:02.323 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "LastName" TEXT NULL;
2025-11-19 19:48:02.323 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "ProfileImageUrl" TEXT NULL;
2025-11-19 19:48:02.323 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "Supervisor" TEXT NULL;
2025-11-19 19:48:02.323 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251004130050_AddUserDetails', '9.0.6');
2025-11-19 19:48:02.323 -05:00 [INF] Applying migration '20251119235500_NewFormMigration'.
2025-11-19 19:48:02.329 -05:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'NewFormMigration' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-11-19 19:48:02.330 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Forms" ADD "FormId" TEXT NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-11-19 19:48:02.330 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Forms" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Forms" PRIMARY KEY,
    "CreatedDate" TEXT NULL,
    "Division" TEXT NULL,
    "FormId" TEXT NOT NULL,
    "FormNumber" TEXT NOT NULL,
    "FormTitle" TEXT NOT NULL,
    "Owner_Email" TEXT NULL,
    "Owner_Name" TEXT NULL,
    "RevisedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4
);
2025-11-19 19:48:02.330 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Forms" ("Id", "CreatedDate", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status")
SELECT "Id", "CreatedDate", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status"
FROM "Forms";
2025-11-19 19:48:02.330 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-11-19 19:48:02.330 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Forms";
2025-11-19 19:48:02.330 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Forms" RENAME TO "Forms";
2025-11-19 19:48:02.331 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-11-19 19:48:02.331 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251119235500_NewFormMigration', '9.0.6');
2025-11-19 19:48:02.331 -05:00 [INF] Applying migration '20251120004711_VersionConstructorFix'.
2025-11-19 19:48:02.339 -05:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'VersionConstructorFix' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-11-19 19:48:02.339 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Forms" ADD "CurrentVersionId" TEXT NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-11-19 19:48:02.339 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "FormDefinition" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_FormDefinition" PRIMARY KEY,
    "FormDefinitionId" TEXT NOT NULL,
    "ConfigurationPath" TEXT NOT NULL
);
2025-11-19 19:48:02.339 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Version" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Version" PRIMARY KEY,
    "VersionId" TEXT NOT NULL,
    "Major" INTEGER NOT NULL,
    "Minor" INTEGER NOT NULL,
    "Patch" INTEGER NOT NULL,
    "VersionDate" TEXT NOT NULL,
    "ReleasedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4,
    "FormId" TEXT NOT NULL,
    CONSTRAINT "FK_Version_FormDefinition_VersionId" FOREIGN KEY ("VersionId") REFERENCES "FormDefinition" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Version_Forms_FormId" FOREIGN KEY ("FormId") REFERENCES "Forms" ("Id") ON DELETE CASCADE
);
2025-11-19 19:48:02.339 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Forms_CurrentVersionId" ON "Forms" ("CurrentVersionId");
2025-11-19 19:48:02.339 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Version_FormId" ON "Version" ("FormId");
2025-11-19 19:48:02.339 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Version_VersionId" ON "Version" ("VersionId");
2025-11-19 19:48:02.339 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Forms" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Forms" PRIMARY KEY,
    "CreatedDate" TEXT NULL,
    "CurrentVersionId" TEXT NOT NULL,
    "Division" TEXT NULL,
    "FormId" TEXT NOT NULL,
    "FormNumber" TEXT NOT NULL,
    "FormTitle" TEXT NOT NULL,
    "Owner_Email" TEXT NULL,
    "Owner_Name" TEXT NULL,
    "RevisedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4,
    CONSTRAINT "FK_Forms_Version_CurrentVersionId" FOREIGN KEY ("CurrentVersionId") REFERENCES "Version" ("Id") ON DELETE CASCADE
);
2025-11-19 19:48:02.339 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Forms" ("Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status")
SELECT "Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status"
FROM "Forms";
2025-11-19 19:48:02.340 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-11-19 19:48:02.340 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Forms";
2025-11-19 19:48:02.340 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Forms" RENAME TO "Forms";
2025-11-19 19:48:02.340 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-11-19 19:48:02.340 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Forms_CurrentVersionId" ON "Forms" ("CurrentVersionId");
2025-11-19 19:48:02.340 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251120004711_VersionConstructorFix', '9.0.6');
2025-11-19 19:48:02.340 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 19:56:32.830 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 19:56:32.847 -05:00 [INF] Registered 21 endpoints in 158 milliseconds.
2025-11-19 19:56:33.154 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 19:56:33.257 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 19:56:33.261 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Forms" AS "f")
2025-11-19 19:56:33.263 -05:00 [ERR] An error occurred seeding the DB. The type initializer for 'FormDesignerAPI.Infrastructure.Data.SeedData' threw an exception.
System.TypeInitializationException: The type initializer for 'FormDesignerAPI.Infrastructure.Data.SeedData' threw an exception.
 ---> System.ArgumentException: Required input minor cannot be zero or negative. (Parameter 'minor')
   at Ardalis.GuardClauses.GuardClauseExtensions.NegativeOrZero[T](IGuardClause guardClause, T input, String parameterName, String message, Func`1 exceptionCreator)
   at Ardalis.GuardClauses.GuardClauseExtensions.NegativeOrZero(IGuardClause guardClause, Int32 input, String parameterName, String message, Func`1 exceptionCreator)
   at FormDesignerAPI.Core.FormAggregate.Version..ctor(Int32 major, Int32 minor, Int32 patch, FormDefinition formDefinition) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Version.cs:line 29
   at FormDesignerAPI.Core.FormAggregate.Version.Create(Int32 major, Int32 minor, Int32 patch, FormDefinition formDefinition) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Version.cs:line 55
   at FormDesignerAPI.Infrastructure.Data.SeedData..cctor() in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 17
   --- End of inner exception stack trace ---
   at FormDesignerAPI.Infrastructure.Data.SeedData.PopulateTestDataAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 52
   at FormDesignerAPI.Infrastructure.Data.SeedData.InitializeAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 46
   at FormDesignerAPI.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Configurations/MiddlewareConfig.cs:line 24
2025-11-19 19:56:33.462 -05:00 [INF] Now listening on: https://localhost:61995
2025-11-19 19:56:33.462 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 19:56:33.462 -05:00 [INF] Hosting environment: Development
2025-11-19 19:56:33.462 -05:00 [INF] Content root path: /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web
2025-11-19 19:57:25.162 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-11-19 19:57:25.218 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 59.6307ms
2025-11-19 19:57:25.333 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-11-19 19:57:25.336 -05:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-11-19 19:57:25.572 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 239.0049ms
2025-11-19 19:57:31.029 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms - null null
2025-11-19 19:57:31.033 -05:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-11-19 19:57:31.054 -05:00 [INF] Handling ListFormsQuery
2025-11-19 19:57:31.055 -05:00 [INF] Property Skip : null
2025-11-19 19:57:31.055 -05:00 [INF] Property Take : null
2025-11-19 19:57:31.055 -05:00 [INF] Handling ListFormsQuery
2025-11-19 19:57:31.055 -05:00 [INF] Property Skip : null
2025-11-19 19:57:31.055 -05:00 [INF] Property Take : null
2025-11-19 19:57:31.070 -05:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-11-19 19:57:31.071 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'FormDTO'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'Version' in 'FormDTO(Guid Id, string FormNumber, string FormTitle, string Division, string Owner, Version Version, DateTime CreatedDate, DateTime RevisedDate)'
    Cannot bind 'original' in 'FormDTO(FormDTO original)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Metadata.AdHocMapper.AddEntityType(Type clrType)
   at Microsoft.EntityFrameworkCore.Metadata.AdHocMapper.GetOrAddEntityType(Type clrType)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQueryRaw[TResult](DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQuery[TResult](DatabaseFacade databaseFacade, FormattableString sql)
   at FormDesignerAPI.Infrastructure.Data.Queries.ListFormsQueryService.ListFormsAsync() in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/Queries/ListFormsQueryService.cs:line 10
   at FormDesignerAPI.UseCases.Forms.List.ListFormsQueryHandler.Handle(ListFormsQuery request, CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.UseCases/Forms/List/ListFormsQueryHandler.cs:line 10
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Forms.List.HandleAsync(CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Forms/List.cs:line 23
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-19 19:57:31.078 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms - 500 null text/plain; charset=utf-8 48.5775ms
2025-11-19 20:00:48.120 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:00:48.137 -05:00 [INF] Registered 21 endpoints in 153 milliseconds.
2025-11-19 20:00:48.475 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 20:00:48.490 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 20:00:48.492 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 01:00:48.491818+00:00');
SELECT changes();
2025-11-19 20:00:48.517 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 20:00:48.522 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 20:00:48.524 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 20:00:48.527 -05:00 [INF] No migrations were applied. The database is already up to date.
2025-11-19 20:00:48.527 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 20:00:48.530 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 20:00:48.614 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 20:00:48.617 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Forms" AS "f")
2025-11-19 20:00:48.618 -05:00 [ERR] An error occurred seeding the DB. The type initializer for 'FormDesignerAPI.Infrastructure.Data.SeedData' threw an exception.
System.TypeInitializationException: The type initializer for 'FormDesignerAPI.Infrastructure.Data.SeedData' threw an exception.
 ---> System.ArgumentException: Required input minor cannot be zero or negative. (Parameter 'minor')
   at Ardalis.GuardClauses.GuardClauseExtensions.NegativeOrZero[T](IGuardClause guardClause, T input, String parameterName, String message, Func`1 exceptionCreator)
   at Ardalis.GuardClauses.GuardClauseExtensions.NegativeOrZero(IGuardClause guardClause, Int32 input, String parameterName, String message, Func`1 exceptionCreator)
   at FormDesignerAPI.Core.FormAggregate.Version..ctor(Int32 major, Int32 minor, Int32 patch, FormDefinition formDefinition) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Version.cs:line 29
   at FormDesignerAPI.Core.FormAggregate.Version.Create(Int32 major, Int32 minor, Int32 patch, FormDefinition formDefinition) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Version.cs:line 55
   at FormDesignerAPI.Infrastructure.Data.SeedData..cctor() in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 17
   --- End of inner exception stack trace ---
   at FormDesignerAPI.Infrastructure.Data.SeedData.PopulateTestDataAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 52
   at FormDesignerAPI.Infrastructure.Data.SeedData.InitializeAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 46
   at FormDesignerAPI.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Configurations/MiddlewareConfig.cs:line 31
2025-11-19 20:00:48.831 -05:00 [INF] Now listening on: https://localhost:62664
2025-11-19 20:00:48.831 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 20:00:48.831 -05:00 [INF] Hosting environment: Development
2025-11-19 20:00:48.831 -05:00 [INF] Content root path: /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web
2025-11-19 20:05:21.088 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:05:33.162 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:05:33.179 -05:00 [INF] Registered 21 endpoints in 155 milliseconds.
2025-11-19 20:05:33.209 -05:00 [INF] Starting database seeding process...
2025-11-19 20:05:33.211 -05:00 [INF] Applying pending migrations...
2025-11-19 20:05:33.524 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 20:05:33.539 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 20:05:33.541 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 01:05:33.540687+00:00');
SELECT changes();
2025-11-19 20:05:33.566 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 20:05:33.572 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 20:05:33.574 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 20:05:33.577 -05:00 [INF] No migrations were applied. The database is already up to date.
2025-11-19 20:05:33.577 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 20:05:33.579 -05:00 [INF] Migrations applied successfully.
2025-11-19 20:05:33.579 -05:00 [INF] Ensuring database is created...
2025-11-19 20:05:33.580 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 20:05:33.580 -05:00 [INF] Database created/verified.
2025-11-19 20:05:33.580 -05:00 [INF] Seeding database with initial data...
2025-11-19 20:05:33.665 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 20:05:33.668 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Forms" AS "f")
2025-11-19 20:05:33.694 -05:00 [ERR] An error occurred seeding the DB. Required input minor cannot be zero or negative. (Parameter 'minor')
System.ArgumentException: Required input minor cannot be zero or negative. (Parameter 'minor')
   at Ardalis.GuardClauses.GuardClauseExtensions.NegativeOrZero[T](IGuardClause guardClause, T input, String parameterName, String message, Func`1 exceptionCreator)
   at Ardalis.GuardClauses.GuardClauseExtensions.NegativeOrZero(IGuardClause guardClause, Int32 input, String parameterName, String message, Func`1 exceptionCreator)
   at FormDesignerAPI.Core.FormAggregate.Version..ctor(Int32 major, Int32 minor, Int32 patch, FormDefinition formDefinition) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Version.cs:line 29
   at FormDesignerAPI.Core.FormAggregate.Version.Create(Int32 major, Int32 minor, Int32 patch, FormDefinition formDefinition) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Core/FormAggregate/Version.cs:line 55
   at FormDesignerAPI.Infrastructure.Data.SeedData.get_Form1() in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 21
   at FormDesignerAPI.Infrastructure.Data.SeedData.PopulateTestDataAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 74
   at FormDesignerAPI.Infrastructure.Data.SeedData.InitializeAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 65
   at FormDesignerAPI.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Configurations/MiddlewareConfig.cs:line 39
2025-11-19 20:12:20.562 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:12:20.580 -05:00 [INF] Registered 21 endpoints in 159 milliseconds.
2025-11-19 20:12:20.614 -05:00 [INF] Starting database seeding process...
2025-11-19 20:12:20.617 -05:00 [INF] Applying pending migrations...
2025-11-19 20:12:20.940 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 20:12:20.957 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 20:12:20.959 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 01:12:20.958908+00:00');
SELECT changes();
2025-11-19 20:12:20.985 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 20:12:20.990 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 20:12:20.992 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 20:12:20.995 -05:00 [INF] No migrations were applied. The database is already up to date.
2025-11-19 20:12:20.996 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 20:12:20.998 -05:00 [INF] Migrations applied successfully.
2025-11-19 20:12:20.998 -05:00 [INF] Ensuring database is created...
2025-11-19 20:12:20.999 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 20:12:20.999 -05:00 [INF] Database created/verified.
2025-11-19 20:12:20.999 -05:00 [INF] Seeding database with initial data...
2025-11-19 20:12:21.088 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 20:12:21.090 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Forms" AS "f")
2025-11-19 20:12:21.186 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Contributors" ("Name", "Status")
VALUES (@p0, @p1)
RETURNING "Id";
2025-11-19 20:12:21.190 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 8), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Contributors" ("Name", "Status")
VALUES (@p0, @p1)
RETURNING "Id";
2025-11-19 20:12:21.190 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 34), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FormDefinition" ("Id", "ConfigurationPath", "FormDefinitionId")
VALUES (@p0, @p1, @p2);
2025-11-19 20:12:21.191 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 37), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FormDefinition" ("Id", "ConfigurationPath", "FormDefinitionId")
VALUES (@p0, @p1, @p2);
2025-11-19 20:12:21.191 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 34), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FormDefinition" ("Id", "ConfigurationPath", "FormDefinitionId")
VALUES (@p0, @p1, @p2);
2025-11-19 20:12:21.193 -05:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 11), @p4='?' (DbType = Guid), @p5='?' (Size = 6), @p6='?' (Size = 26), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Forms" ("Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "RevisedDate", "Status", "Owner_Email", "Owner_Name")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-19 20:12:21.198 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'FormDesignerAPI.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Forms.CurrentVersionId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Forms.CurrentVersionId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-19 20:12:21.199 -05:00 [ERR] An error occurred seeding the DB. An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Forms.CurrentVersionId'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FormDesignerAPI.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/AppDbContext.cs:line 33
   at FormDesignerAPI.Infrastructure.Data.SeedData.PopulateTestDataAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 76
   at FormDesignerAPI.Infrastructure.Data.SeedData.InitializeAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 65
   at FormDesignerAPI.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Configurations/MiddlewareConfig.cs:line 39
2025-11-19 20:14:26.434 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:14:26.454 -05:00 [INF] Registered 21 endpoints in 194 milliseconds.
2025-11-19 20:14:26.487 -05:00 [INF] Starting database seeding process...
2025-11-19 20:14:26.489 -05:00 [INF] Applying pending migrations...
2025-11-19 20:14:26.808 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 20:14:26.823 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 20:14:26.826 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 01:14:26.8254+00:00');
SELECT changes();
2025-11-19 20:14:26.851 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 20:14:26.857 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 20:14:26.859 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 20:14:26.862 -05:00 [INF] No migrations were applied. The database is already up to date.
2025-11-19 20:14:26.863 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 20:14:26.864 -05:00 [INF] Migrations applied successfully.
2025-11-19 20:14:26.864 -05:00 [INF] Ensuring database is created...
2025-11-19 20:14:26.865 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 20:14:26.865 -05:00 [INF] Database created/verified.
2025-11-19 20:14:26.865 -05:00 [INF] Seeding database with initial data...
2025-11-19 20:14:26.954 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 20:14:26.957 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Forms" AS "f")
2025-11-19 20:14:27.050 -05:00 [ERR] An exception occurred in the database while saving changes for context type 'FormDesignerAPI.Infrastructure.Data.AppDbContext'.
System.InvalidOperationException: Unable to save changes because a circular dependency was detected in the data to be saved: 'Form [Added] <-
ForeignKeyConstraint { 'FormId' } Version [Added] <-
ForeignKeyConstraint { 'CurrentVersionId' } Form [Added]To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.'.
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.ThrowCycle(List`1 cycle, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.TopologicalSortCore(Boolean withBatching, Func`4 canBreakEdges, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.BatchingTopologicalSort(Func`4 canBreakEdges, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.TopologicalSort(IEnumerable`1 commands)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.BatchCommands(IList`1 entries, IUpdateAdapter updateAdapter)+MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: Unable to save changes because a circular dependency was detected in the data to be saved: 'Form [Added] <-
ForeignKeyConstraint { 'FormId' } Version [Added] <-
ForeignKeyConstraint { 'CurrentVersionId' } Form [Added]To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.'.
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.ThrowCycle(List`1 cycle, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.TopologicalSortCore(Boolean withBatching, Func`4 canBreakEdges, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.BatchingTopologicalSort(Func`4 canBreakEdges, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.TopologicalSort(IEnumerable`1 commands)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.BatchCommands(IList`1 entries, IUpdateAdapter updateAdapter)+MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-19 20:14:27.050 -05:00 [ERR] An error occurred seeding the DB. Unable to save changes because a circular dependency was detected in the data to be saved: 'Form [Added] <-
ForeignKeyConstraint { 'FormId' } Version [Added] <-
ForeignKeyConstraint { 'CurrentVersionId' } Form [Added]To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.'.
System.InvalidOperationException: Unable to save changes because a circular dependency was detected in the data to be saved: 'Form [Added] <-
ForeignKeyConstraint { 'FormId' } Version [Added] <-
ForeignKeyConstraint { 'CurrentVersionId' } Form [Added]To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.'.
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.ThrowCycle(List`1 cycle, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.TopologicalSortCore(Boolean withBatching, Func`4 canBreakEdges, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Utilities.Multigraph`2.BatchingTopologicalSort(Func`4 canBreakEdges, Func`2 formatCycle, Func`2 formatException)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.TopologicalSort(IEnumerable`1 commands)
   at Microsoft.EntityFrameworkCore.Update.Internal.CommandBatchPreparer.BatchCommands(IList`1 entries, IUpdateAdapter updateAdapter)+MoveNext()
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FormDesignerAPI.Infrastructure.Data.AppDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/AppDbContext.cs:line 33
   at FormDesignerAPI.Infrastructure.Data.SeedData.PopulateTestDataAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 76
   at FormDesignerAPI.Infrastructure.Data.SeedData.InitializeAsync(AppDbContext dbContext) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/SeedData.cs:line 65
   at FormDesignerAPI.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Configurations/MiddlewareConfig.cs:line 39
2025-11-19 20:15:37.061 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:15:37.079 -05:00 [INF] Registered 21 endpoints in 159 milliseconds.
2025-11-19 20:15:37.108 -05:00 [INF] Starting database seeding process...
2025-11-19 20:15:37.110 -05:00 [INF] Applying pending migrations...
2025-11-19 20:15:37.445 -05:00 [ERR] An error occurred seeding the DB. An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'AppDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Configurations.MiddlewareConfig.SeedDatabase(WebApplication app) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Configurations/MiddlewareConfig.cs:line 29
2025-11-19 20:16:26.688 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:16:26.703 -05:00 [INF] Registered 21 endpoints in 141 milliseconds.
2025-11-19 20:16:26.729 -05:00 [INF] Starting database seeding process...
2025-11-19 20:16:26.731 -05:00 [INF] Applying pending migrations...
2025-11-19 20:16:27.069 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 20:16:27.085 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 20:16:27.087 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 01:16:27.086594+00:00');
SELECT changes();
2025-11-19 20:16:27.109 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 20:16:27.114 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 20:16:27.116 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 20:16:27.119 -05:00 [INF] Applying migration '20251120011604_RemoveCurrentVersionNavigation'.
2025-11-19 20:16:27.127 -05:00 [WRN] The migration operation 'PRAGMA foreign_keys = 0;
' from migration 'RemoveCurrentVersionNavigation' cannot be executed in a transaction. If the app is terminated or an unrecoverable error occurs while this operation is being executed then the migration will be left in a partially applied state and would need to be reverted manually before it can be applied again. Create a separate migration that contains just this operation.
2025-11-19 20:16:27.128 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Forms_CurrentVersionId";
2025-11-19 20:16:27.128 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Forms" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Forms" PRIMARY KEY,
    "CreatedDate" TEXT NULL,
    "CurrentVersionId" TEXT NULL,
    "Division" TEXT NULL,
    "FormId" TEXT NOT NULL,
    "FormNumber" TEXT NOT NULL,
    "FormTitle" TEXT NOT NULL,
    "Owner_Email" TEXT NULL,
    "Owner_Name" TEXT NULL,
    "RevisedDate" TEXT NULL,
    "Status" INTEGER NOT NULL DEFAULT 4
);
2025-11-19 20:16:27.128 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Forms" ("Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status")
SELECT "Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "Owner_Email", "Owner_Name", "RevisedDate", "Status"
FROM "Forms";
2025-11-19 20:16:27.128 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2025-11-19 20:16:27.128 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Forms";
2025-11-19 20:16:27.129 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Forms" RENAME TO "Forms";
2025-11-19 20:16:27.129 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2025-11-19 20:16:27.130 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251120011604_RemoveCurrentVersionNavigation', '9.0.6');
2025-11-19 20:16:27.131 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 20:16:27.132 -05:00 [INF] Migrations applied successfully.
2025-11-19 20:16:27.132 -05:00 [INF] Ensuring database is created...
2025-11-19 20:16:27.134 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 20:16:27.134 -05:00 [INF] Database created/verified.
2025-11-19 20:16:27.134 -05:00 [INF] Seeding database with initial data...
2025-11-19 20:16:27.216 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 20:16:27.218 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Forms" AS "f")
2025-11-19 20:16:27.308 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Contributors" ("Name", "Status")
VALUES (@p0, @p1)
RETURNING "Id";
2025-11-19 20:16:27.312 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 8), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Contributors" ("Name", "Status")
VALUES (@p0, @p1)
RETURNING "Id";
2025-11-19 20:16:27.313 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 37), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FormDefinition" ("Id", "ConfigurationPath", "FormDefinitionId")
VALUES (@p0, @p1, @p2);
2025-11-19 20:16:27.313 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 34), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FormDefinition" ("Id", "ConfigurationPath", "FormDefinitionId")
VALUES (@p0, @p1, @p2);
2025-11-19 20:16:27.313 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 34), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "FormDefinition" ("Id", "ConfigurationPath", "FormDefinitionId")
VALUES (@p0, @p1, @p2);
2025-11-19 20:16:27.315 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?' (Size = 6), @p6='?' (Size = 25), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = 22), @p10='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Forms" ("Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "RevisedDate", "Status", "Owner_Email", "Owner_Name")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-19 20:16:27.315 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (Size = 11), @p4='?' (DbType = Guid), @p5='?' (Size = 6), @p6='?' (Size = 26), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = 20), @p10='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Forms" ("Id", "CreatedDate", "CurrentVersionId", "Division", "FormId", "FormNumber", "FormTitle", "RevisedDate", "Status", "Owner_Email", "Owner_Name")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-19 20:16:27.315 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Version" ("Id", "FormId", "Major", "Minor", "Patch", "ReleasedDate", "Status", "VersionDate", "VersionId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-11-19 20:16:27.315 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Version" ("Id", "FormId", "Major", "Minor", "Patch", "ReleasedDate", "Status", "VersionDate", "VersionId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-11-19 20:16:27.315 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Version" ("Id", "FormId", "Major", "Minor", "Patch", "ReleasedDate", "Status", "VersionDate", "VersionId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-11-19 20:16:27.318 -05:00 [INF] Database seeded successfully.
2025-11-19 20:16:27.516 -05:00 [INF] Now listening on: https://localhost:57679
2025-11-19 20:16:27.516 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 20:16:27.516 -05:00 [INF] Hosting environment: Development
2025-11-19 20:16:27.516 -05:00 [INF] Content root path: /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web
2025-11-19 20:16:58.065 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/api/forms - null null
2025-11-19 20:16:58.085 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/api/forms - 404 0 null 21.67ms
2025-11-19 20:16:58.088 -05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/api/forms, Response status code: 404
2025-11-19 20:17:06.326 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/ui - null null
2025-11-19 20:17:06.327 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/ui - 404 0 null 1.6588ms
2025-11-19 20:17:06.327 -05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/swagger/ui, Response status code: 404
2025-11-19 20:17:13.902 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/ - null null
2025-11-19 20:17:13.903 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/ - 404 0 null 1.6368ms
2025-11-19 20:17:13.903 -05:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:57679/, Response status code: 404
2025-11-19 20:20:38.014 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:20:38.030 -05:00 [INF] Registered 21 endpoints in 141 milliseconds.
2025-11-19 20:20:38.055 -05:00 [INF] Starting database seeding process...
2025-11-19 20:20:38.057 -05:00 [INF] Applying pending migrations...
2025-11-19 20:20:38.356 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 20:20:38.370 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 20:20:38.372 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 01:20:38.372043+00:00');
SELECT changes();
2025-11-19 20:20:38.397 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 20:20:38.402 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 20:20:38.404 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 20:20:38.407 -05:00 [INF] No migrations were applied. The database is already up to date.
2025-11-19 20:20:38.407 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 20:20:38.409 -05:00 [INF] Migrations applied successfully.
2025-11-19 20:20:38.409 -05:00 [INF] Ensuring database is created...
2025-11-19 20:20:38.410 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 20:20:38.410 -05:00 [INF] Database created/verified.
2025-11-19 20:20:38.410 -05:00 [INF] Seeding database with initial data...
2025-11-19 20:20:38.492 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 20:20:38.492 -05:00 [INF] Database seeded successfully.
2025-11-19 20:20:38.691 -05:00 [INF] Now listening on: https://localhost:49440
2025-11-19 20:20:38.691 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 20:20:38.691 -05:00 [INF] Hosting environment: Development
2025-11-19 20:20:38.691 -05:00 [INF] Content root path: /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web
2025-11-19 20:22:12.365 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-19 20:22:12.382 -05:00 [INF] Registered 21 endpoints in 149 milliseconds.
2025-11-19 20:22:12.411 -05:00 [INF] Starting database seeding process...
2025-11-19 20:22:12.414 -05:00 [INF] Applying pending migrations...
2025-11-19 20:22:12.742 -05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-19 20:22:12.757 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-11-19 20:22:12.759 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-11-20 01:22:12.758805+00:00');
SELECT changes();
2025-11-19 20:22:12.784 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-11-19 20:22:12.790 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-11-19 20:22:12.792 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-11-19 20:22:12.795 -05:00 [INF] No migrations were applied. The database is already up to date.
2025-11-19 20:22:12.796 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-11-19 20:22:12.797 -05:00 [INF] Migrations applied successfully.
2025-11-19 20:22:12.797 -05:00 [INF] Ensuring database is created...
2025-11-19 20:22:12.798 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-11-19 20:22:12.798 -05:00 [INF] Database created/verified.
2025-11-19 20:22:12.798 -05:00 [INF] Seeding database with initial data...
2025-11-19 20:22:12.883 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Contributors" AS "c")
2025-11-19 20:22:12.884 -05:00 [INF] Database seeded successfully.
2025-11-19 20:22:13.101 -05:00 [INF] Now listening on: https://localhost:49712
2025-11-19 20:22:13.101 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-19 20:22:13.101 -05:00 [INF] Hosting environment: Development
2025-11-19 20:22:13.101 -05:00 [INF] Content root path: /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web
2025-11-19 20:22:16.248 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/index.html - null null
2025-11-19 20:22:16.301 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/index.html - 200 null text/html; charset=utf-8 56.2805ms
2025-11-19 20:22:16.345 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - null null
2025-11-19 20:22:16.347 -05:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-11-19 20:22:16.588 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/swagger/v1/swagger.json - 200 null application/json; charset=utf-8 243.7405ms
2025-11-19 20:22:18.906 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms - null null
2025-11-19 20:22:18.911 -05:00 [INF] Executing endpoint 'HTTP: GET /Forms'
2025-11-19 20:22:18.929 -05:00 [INF] Handling ListFormsQuery
2025-11-19 20:22:18.929 -05:00 [INF] Property Skip : null
2025-11-19 20:22:18.929 -05:00 [INF] Property Take : null
2025-11-19 20:22:18.930 -05:00 [INF] Handling ListFormsQuery
2025-11-19 20:22:18.930 -05:00 [INF] Property Skip : null
2025-11-19 20:22:18.930 -05:00 [INF] Property Take : null
2025-11-19 20:22:18.947 -05:00 [INF] Executed endpoint 'HTTP: GET /Forms'
2025-11-19 20:22:18.947 -05:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'FormDTO'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'Version' in 'FormDTO(Guid Id, string FormNumber, string FormTitle, string Division, string Owner, Version Version, DateTime CreatedDate, DateTime RevisedDate)'
    Cannot bind 'original' in 'FormDTO(FormDTO original)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.ModelBuilder.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Metadata.AdHocMapper.AddEntityType(Type clrType)
   at Microsoft.EntityFrameworkCore.Metadata.AdHocMapper.GetOrAddEntityType(Type clrType)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQueryRaw[TResult](DatabaseFacade databaseFacade, String sql, Object[] parameters)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.SqlQuery[TResult](DatabaseFacade databaseFacade, FormattableString sql)
   at FormDesignerAPI.Infrastructure.Data.Queries.ListFormsQueryService.ListFormsAsync() in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Infrastructure/Data/Queries/ListFormsQueryService.cs:line 10
   at FormDesignerAPI.UseCases.Forms.List.ListFormsQueryHandler.Handle(ListFormsQuery request, CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.UseCases/Forms/List/ListFormsQueryHandler.cs:line 10
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Ardalis.SharedKernel.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at FormDesignerAPI.Web.Forms.List.HandleAsync(CancellationToken cancellationToken) in /Users/pete/Development/Projects/FormDesigner/src/FormDesignerAPI.Web/Forms/List.cs:line 23
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Ardalis.ListStartupServices.ShowAllServicesMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-19 20:22:18.956 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms - 500 null text/plain; charset=utf-8 50.0507ms
2025-11-19 20:22:48.583 -05:00 [INF] Request starting HTTP/2 GET https://localhost:57679/Forms/89936224-DFAF-44CE-9A8F-53D362281042 - null null
2025-11-19 20:22:48.586 -05:00 [INF] Executing endpoint 'HTTP: GET /Forms/{FormId:Guid}'
2025-11-19 20:22:48.615 -05:00 [INF] Handling GetFormQuery
2025-11-19 20:22:48.615 -05:00 [INF] Property FormId : "89936224-dfaf-44ce-9a8f-53d362281042"
2025-11-19 20:22:48.615 -05:00 [INF] Handling GetFormQuery
2025-11-19 20:22:48.615 -05:00 [INF] Property FormId : "89936224-dfaf-44ce-9a8f-53d362281042"
2025-11-19 20:22:48.698 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__FormId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "f"."Id", "f"."CreatedDate", "f"."CurrentVersionId", "f"."Division", "f"."FormId", "f"."FormNumber", "f"."FormTitle", "f"."RevisedDate", "f"."Status", "f"."Owner_Email", "f"."Owner_Name"
FROM "Forms" AS "f"
WHERE "f"."Id" = @__FormId_0
LIMIT 1
2025-11-19 20:22:48.698 -05:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 82 ms
2025-11-19 20:22:48.698 -05:00 [INF] Handled GetFormQuery with Ardalis.Result.Result`1[FormDesignerAPI.UseCases.Forms.FormDTO] in 82 ms
2025-11-19 20:22:48.699 -05:00 [INF] Executed endpoint 'HTTP: GET /Forms/{FormId:Guid}'
2025-11-19 20:22:48.700 -05:00 [INF] Request finished HTTP/2 GET https://localhost:57679/Forms/89936224-DFAF-44CE-9A8F-53D362281042 - 404 null null 116.5035ms
